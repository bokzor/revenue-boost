client_id = "6d807bf0201e5a3acbec919a27ccfe62"
name = "revenue-boost-staging"
application_url = "https://revenueboost-staging-532516069850.us-central1.run.app"
embedded = true

[build]
automatically_update_urls_on_dev = true
include_config_on_deploy = true

[webhooks]
api_version = "2025-10"

[[webhooks.subscriptions]]
topics = ["app/uninstalled"]
uri = "/webhooks/app/uninstalled"

[[webhooks.subscriptions]]
topics = ["app/scopes_update"]
uri = "/webhooks/app/scopes_update"

[[webhooks.subscriptions]]
topics = ["orders/create"]
uri = "/webhooks/orders/create"

# GDPR/Privacy mandatory compliance webhooks
[[webhooks.subscriptions]]
compliance_topics = ["customers/data_request", "customers/redact", "shop/redact"]
uri = "/webhooks"

[access_scopes]
# Required scopes - requested at install time (core functionality)
# read_orders: for orders/create webhook (revenue attribution)
# write_marketing_events, read_marketing_events: Marketing attribution tracking in Shopify's Marketing section
# read_customers, write_customers: Create/update customers when emails are collected via popups
# write_files: Custom image uploads for popup backgrounds
scopes = "read_discounts,write_discounts,write_products,read_themes,read_orders,write_marketing_events,read_marketing_events,read_customers,write_customers,write_files"

[auth]
redirect_urls = [ "https://revenueboost-staging-532516069850.us-central1.run.app/api/auth" ]

[app_proxy]
url = "https://revenueboost-staging-532516069850.us-central1.run.app"
subpath = "revenue-boost"
prefix = "apps"
