{
  "version": 3,
  "sources": ["global-preact:global-preact:react", "global-preact:global-preact:react-dom", "global-preact:global-preact:preact/jsx-runtime", "../../../app/domains/storefront/popups-new/PopupPortal.tsx", "../../../app/domains/storefront/popups-new/FlashSalePopup.tsx", "../../storefront-src/bundles/flash-sale.ts"],
  "sourcesContent": ["\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const { h, Component, Fragment, render, createPortal } = window.RevenueBoostPreact;\n                const { useState, useEffect, useCallback, useRef, useMemo } = window.RevenueBoostPreact.hooks;\n                export { h, Component, Fragment, render, createPortal, useState, useEffect, useCallback, useRef, useMemo };\n                export default { h, Component, Fragment, render, createPortal, useState, useEffect, useCallback, useRef, useMemo };\n              ", "\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                export const render = window.RevenueBoostPreact.render;\n                export const createPortal = window.RevenueBoostPreact.createPortal;\n                export default { render: window.RevenueBoostPreact.render, createPortal: window.RevenueBoostPreact.createPortal };\n              ", "\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const options = window.RevenueBoostPreact.options || {};\n                const h = window.RevenueBoostPreact.h;\n\n                // JSX runtime factory function\n                let vnodeId = 0;\n                export function jsx(type, props, key, isStaticChildren, __source, __self) {\n                  if (!props) props = {};\n                  let normalizedProps = props;\n                  let ref;\n\n                  if ('ref' in props) {\n                    normalizedProps = {};\n                    for (let i in props) {\n                      if (i === 'ref') ref = props[i];\n                      else normalizedProps[i] = props[i];\n                    }\n                  }\n\n                  const vnode = {\n                    type,\n                    props: normalizedProps,\n                    key: key !== undefined ? key : null,\n                    ref: ref !== undefined ? ref : null,\n                    __k: null,\n                    __: null,\n                    __b: 0,\n                    __e: null,\n                    __c: null,\n                    constructor: undefined,\n                    __v: --vnodeId,\n                    __i: -1,\n                    __u: 0,\n                    __source,\n                    __self\n                  };\n\n                  if (typeof type === 'function' && (ref = type.defaultProps)) {\n                    for (let i in ref) {\n                      if (normalizedProps[i] === undefined) {\n                        normalizedProps[i] = ref[i];\n                      }\n                    }\n                  }\n\n                  if (options.vnode) options.vnode(vnode);\n                  return vnode;\n                }\n\n                export const jsxs = jsx;\n                export const jsxDEV = jsx;\n                export const createElement = h;\n                export const Fragment = window.RevenueBoostPreact.Fragment;\n              ", "/**\n * PopupPortal Component\n *\n * A thin wrapper that handles all popup \"chrome\" concerns:\n * - Backdrop rendering (color, opacity, blur)\n * - Keyboard events (ESC to close)\n * - Click-outside-to-close\n * - Open/close animations with choreography\n * - Portal rendering (to document.body)\n * - Focus management\n * - Scroll locking\n * - Accessibility (aria-modal, role=\"dialog\")\n *\n * Popup content remains fully autonomous - just renders inside the portal.\n */\n\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport type AnimationType = 'fade' | 'slide' | 'zoom' | 'bounce' | 'none';\n\nexport interface BackdropConfig {\n  color?: string;      // Base color (hex, rgb, rgba)\n  opacity?: number;    // Applied opacity (0-1)\n  blur?: number;       // backdrop-filter blur in px\n}\n\nexport interface AnimationConfig {\n  type: AnimationType;\n  duration?: number;         // Override default duration\n  backdropDelay?: number;    // Custom delay for backdrop\n  contentDelay?: number;     // Custom delay for content\n}\n\nexport type PopupPosition = \"center\" | \"top\" | \"bottom\" | \"left\" | \"right\";\n\nexport interface PopupPortalProps {\n  isVisible: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n\n  // Backdrop configuration\n  backdrop?: BackdropConfig;\n\n  // Animation configuration\n  animation?: AnimationConfig;\n\n  // Layout\n  position?: PopupPosition;\n\n  // Behavior\n  closeOnEscape?: boolean;\n  closeOnBackdropClick?: boolean;\n  previewMode?: boolean;\n\n  // Accessibility\n  ariaLabel?: string;\n  ariaDescribedBy?: string;\n}\n\n/**\n * Animation choreography timing\n * Defines when backdrop and content should animate\n */\nconst ANIMATION_CHOREOGRAPHY = {\n  fade: {\n    backdrop: { delay: 0, duration: 200 },\n    content: { delay: 0, duration: 200 },\n  },\n  slide: {\n    backdrop: { delay: 0, duration: 150 },\n    content: { delay: 50, duration: 300 },\n  },\n  zoom: {\n    backdrop: { delay: 0, duration: 250 },\n    content: { delay: 0, duration: 300 },\n  },\n  bounce: {\n    backdrop: { delay: 0, duration: 200 },\n    content: { delay: 50, duration: 500 },\n  },\n  none: {\n    backdrop: { delay: 0, duration: 0 },\n    content: { delay: 0, duration: 0 },\n  },\n};\n\nexport const PopupPortal: React.FC<PopupPortalProps> = ({\n  isVisible,\n  onClose,\n  children,\n  backdrop = {},\n  animation = { type: 'fade' },\n  position = 'center',\n  closeOnEscape = true,\n  closeOnBackdropClick = true,\n  previewMode = false,\n  ariaLabel,\n  ariaDescribedBy,\n}) => {\n  const [isExiting, setIsExiting] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const previousFocusRef = useRef<HTMLElement | null>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const shadowHostRef = useRef<HTMLDivElement | null>(null);\n  const shadowRootRef = useRef<ShadowRoot | null>(null);\n\n  // Get animation timing\n  const animationType = animation.type || 'fade';\n  const choreography = ANIMATION_CHOREOGRAPHY[animationType];\n  const backdropTiming = useMemo(() => ({\n    delay: animation.backdropDelay ?? choreography.backdrop.delay,\n    duration: animation.duration ?? choreography.backdrop.duration,\n  }), [animation.backdropDelay, animation.duration, choreography.backdrop.delay, choreography.backdrop.duration]);\n\n  const contentTiming = useMemo(() => ({\n    delay: animation.contentDelay ?? choreography.content.delay,\n    duration: animation.duration ?? choreography.content.duration,\n  }), [animation.contentDelay, animation.duration, choreography.content.delay, choreography.content.duration]);\n\n  // Calculate backdrop color with opacity\n  const getBackdropColor = useCallback(() => {\n    const opacity = backdrop.opacity ?? 0.6;\n    const color = backdrop.color || 'rgba(0, 0, 0, 1)';\n\n    // If color is already rgba, extract RGB and apply opacity\n    if (color.startsWith('rgba')) {\n      const rgbaMatch = color.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*[\\d.]+)?\\)/);\n      if (rgbaMatch) {\n        return `rgba(${rgbaMatch[1]}, ${rgbaMatch[2]}, ${rgbaMatch[3]}, ${opacity})`;\n      }\n    }\n\n    // If color is rgb, convert to rgba with opacity\n    if (color.startsWith('rgb')) {\n      const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n      if (rgbMatch) {\n        return `rgba(${rgbMatch[1]}, ${rgbMatch[2]}, ${rgbMatch[3]}, ${opacity})`;\n      }\n    }\n\n    // If color is hex, convert to rgba\n    if (color.startsWith('#')) {\n      const hex = color.slice(1);\n      const r = parseInt(hex.slice(0, 2), 16);\n      const g = parseInt(hex.slice(2, 4), 16);\n      const b = parseInt(hex.slice(4, 6), 16);\n      return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n    }\n\n    // Fallback\n    return `rgba(0, 0, 0, ${opacity})`;\n  }, [backdrop.color, backdrop.opacity]);\n\n  // Handle close with exit animation\n  const handleClose = useCallback(() => {\n    if (animationType !== 'none') {\n      setIsExiting(true);\n      // Wait for the longest animation to complete\n      const maxDuration = Math.max(\n        backdropTiming.delay + backdropTiming.duration,\n        contentTiming.delay + contentTiming.duration\n      );\n      setTimeout(() => {\n        onClose();\n        setIsExiting(false);\n      }, maxDuration);\n    } else {\n      onClose();\n    }\n  }, [animationType, backdropTiming, contentTiming, onClose]);\n\n  // Handle ESC key press\n  useEffect(() => {\n    if (!isVisible || !closeOnEscape) return;\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isVisible, closeOnEscape, handleClose]);\n\n  // Handle backdrop click\n  const handleBackdropClick: React.MouseEventHandler<HTMLDivElement> = useCallback((e) => {\n    if (closeOnBackdropClick) {\n      handleClose();\n    }\n  }, [closeOnBackdropClick, handleClose]);\n\n  // Prevent content click from closing\n  const handleContentClick: React.MouseEventHandler<HTMLDivElement> = useCallback((e) => {\n    e.stopPropagation();\n  }, []);\n\n  // Focus management\n  useEffect(() => {\n    if (isVisible && !previewMode) {\n      // Save current focus\n      previousFocusRef.current = document.activeElement as HTMLElement;\n\n      // Focus the content wrapper\n      if (contentRef.current) {\n        contentRef.current.focus();\n      }\n    }\n\n    return () => {\n      // Restore focus on unmount\n      if (previousFocusRef.current && !previewMode) {\n        previousFocusRef.current.focus();\n      }\n    };\n  }, [isVisible, previewMode]);\n\n  // Scroll locking\n  useEffect(() => {\n    if (isVisible && !previewMode) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isVisible, previewMode]);\n\n  // Create Shadow DOM container\n  useEffect(() => {\n    if (previewMode) return; // Don't use Shadow DOM in preview mode\n\n    // Create shadow host if it doesn't exist\n    let host = document.getElementById('revenue-boost-popup-shadow-host') as HTMLDivElement;\n\n    if (!host) {\n      host = document.createElement('div');\n      host.id = 'revenue-boost-popup-shadow-host';\n      // Shadow host MUST have display: block to have dimensions!\n      // position: fixed with inset: 0 makes it fill the viewport\n      host.style.cssText = 'display: block; position: fixed; inset: 0; z-index: 9999; pointer-events: auto;';\n      document.body.appendChild(host);\n    }\n\n    // Attach shadow root if not already attached\n    if (!host.shadowRoot) {\n      const shadowRoot = host.attachShadow({ mode: 'open' });\n      shadowRootRef.current = shadowRoot;\n\n      // Add base styles using adoptedStyleSheets (modern approach for Shadow DOM)\n      try {\n        const sheet = new CSSStyleSheet();\n        sheet.replaceSync(`\n          * {\n            box-sizing: border-box;\n          }\n        `);\n        shadowRoot.adoptedStyleSheets = [sheet];\n      } catch (e) {\n        console.warn('[PopupPortal] adoptedStyleSheets not supported, falling back to style tag');\n      }\n    } else {\n      shadowRootRef.current = host.shadowRoot;\n    }\n\n    shadowHostRef.current = host;\n\n    return () => {\n      // Cleanup: remove host when component unmounts\n      if (host && host.parentNode) {\n        host.parentNode.removeChild(host);\n      }\n    };\n  }, [previewMode]);\n\n  // Mount/unmount management\n  useEffect(() => {\n    if (isVisible) {\n      setIsMounted(true);\n    } else if (!isExiting) {\n      setIsMounted(false);\n    }\n  }, [isVisible, isExiting]);\n\n  // Don't render if not mounted\n  if (!isMounted && !isVisible) return null;\n\n  // Check for reduced motion preference\n  const prefersReducedMotion = typeof window !== 'undefined' &&\n    window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n\n  const effectiveAnimationType = prefersReducedMotion ? 'none' : animationType;\n\n  // Animation classes\n  const getAnimationClass = () => {\n    if (effectiveAnimationType === 'none') return '';\n\n    const direction = isExiting ? 'exit' : 'enter';\n    return `popup-portal-${effectiveAnimationType}-${direction}`;\n  };\n\n  const backdropAnimationClass = getAnimationClass();\n  const contentAnimationClass = getAnimationClass();\n\n  // Styles\n  // In Shadow DOM, position: fixed doesn't work relative to viewport\n  // It's relative to the shadow host. Since shadow host is position:fixed with inset:0,\n  // we use position:absolute inside to fill the shadow host (which fills the viewport)\n  const overlayStyles: React.CSSProperties = {\n    position: 'absolute',\n    inset: 0,\n    zIndex: 1,\n    pointerEvents: 'auto', // Enable pointer events in shadow DOM\n  };\n\n  const backdropStyles: React.CSSProperties = {\n    position: 'absolute',\n    inset: 0,\n    background: getBackdropColor(),\n    backdropFilter: backdrop.blur ? `blur(${backdrop.blur}px)` : undefined,\n    animationDelay: `${backdropTiming.delay}ms`,\n    animationDuration: `${backdropTiming.duration}ms`,\n  };\n\n  const contentWrapperStyles: React.CSSProperties = {\n    animationDelay: `${contentTiming.delay}ms`,\n    animationDuration: `${contentTiming.duration}ms`,\n    outline: 'none',\n  };\n\n  // Render content\n  const content = (\n    <div style={overlayStyles} role=\"presentation\">\n      {/* Base styles for Shadow DOM - ensures proper rendering */}\n      <style dangerouslySetInnerHTML={{ __html: `\n        * {\n          box-sizing: border-box;\n        }\n        ${getAnimationKeyframes(previewMode, position)}\n      ` }} />\n\n      {/* Backdrop */}\n      <div\n        className={backdropAnimationClass}\n        style={backdropStyles}\n        onClick={handleBackdropClick}\n        aria-hidden=\"true\"\n      />\n\n      {/* Content wrapper with animation */}\n      <div\n        ref={contentRef}\n        className={`popup-portal-dialog-wrapper ${contentAnimationClass}`}\n        style={contentWrapperStyles}\n        onClick={handleContentClick}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label={ariaLabel}\n        aria-describedby={ariaDescribedBy}\n        tabIndex={-1}\n      >\n        {children}\n      </div>\n    </div>\n  );\n\n  // Render with portal\n  if (previewMode) {\n    // In preview mode, render directly without Shadow DOM\n    return content;\n  }\n\n  // Render into Shadow DOM\n  if (shadowRootRef.current) {\n    return createPortal(content, shadowRootRef.current as unknown as Element);\n  }\n\n  // Fallback: render to body if Shadow DOM not ready\n  return null;\n};\n\n/**\n * Generate CSS keyframes for animations\n */\nfunction getAnimationKeyframes(previewMode: boolean, position: PopupPosition): string {\n  // Map position to flexbox alignment\n  const alignMap = {\n    center: 'center',\n    top: 'flex-start',\n    bottom: 'flex-end',\n    left: 'flex-start',\n    right: 'flex-end',\n  };\n\n  const justifyMap = {\n    center: 'center',\n    top: 'center',\n    bottom: 'center',\n    left: 'flex-start',\n    right: 'flex-end',\n  };\n\n  return `\n    /* Base positioning for dialog wrapper */\n    .popup-portal-dialog-wrapper {\n      position: absolute;\n      inset: 0;\n      z-index: 1;\n      padding: 1rem;\n      display: flex;\n      align-items: ${alignMap[position]};\n      justify-content: ${justifyMap[position]};\n    }\n\n    /* Fade animations */\n    @keyframes popup-portal-fade-enter {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n    @keyframes popup-portal-fade-exit {\n      from { opacity: 1; }\n      to { opacity: 0; }\n    }\n    .popup-portal-fade-enter {\n      animation: popup-portal-fade-enter forwards;\n      animation-timing-function: ease-out;\n    }\n    .popup-portal-fade-exit {\n      animation: popup-portal-fade-exit forwards;\n      animation-timing-function: ease-in;\n    }\n\n    /* Slide animations */\n    @keyframes popup-portal-slide-enter {\n      from {\n        opacity: 0;\n        transform: translateY(20px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n    @keyframes popup-portal-slide-exit {\n      from {\n        opacity: 1;\n        transform: translateY(0);\n      }\n      to {\n        opacity: 0;\n        transform: translateY(20px);\n      }\n    }\n    .popup-portal-slide-enter {\n      animation: popup-portal-slide-enter forwards;\n      animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);\n    }\n    .popup-portal-slide-exit {\n      animation: popup-portal-slide-exit forwards;\n      animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);\n    }\n\n    /* Zoom animations */\n    @keyframes popup-portal-zoom-enter {\n      from {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n    @keyframes popup-portal-zoom-exit {\n      from {\n        opacity: 1;\n        transform: scale(1);\n      }\n      to {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n    }\n    .popup-portal-zoom-enter {\n      animation: popup-portal-zoom-enter forwards;\n      animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);\n    }\n    .popup-portal-zoom-exit {\n      animation: popup-portal-zoom-exit forwards;\n      animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);\n    }\n\n    /* Bounce animations */\n    @keyframes popup-portal-bounce-enter {\n      0% {\n        opacity: 0;\n        transform: scale(0.3);\n      }\n      50% {\n        opacity: 1;\n        transform: scale(1.05);\n      }\n      70% {\n        transform: scale(0.9);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes popup-portal-bounce-exit {\n      from {\n        opacity: 1;\n        transform: scale(1);\n      }\n      to {\n        opacity: 0;\n        transform: scale(0.8);\n      }\n    }\n    .popup-portal-bounce-enter {\n      animation: popup-portal-bounce-enter forwards;\n      animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);\n    }\n    .popup-portal-bounce-exit {\n      animation: popup-portal-bounce-exit forwards;\n      animation-timing-function: ease-in;\n    }\n\n    /* Reduced motion */\n    @media (prefers-reduced-motion: reduce) {\n      .popup-portal-fade-enter,\n      .popup-portal-fade-exit,\n      .popup-portal-slide-enter,\n      .popup-portal-slide-exit,\n      .popup-portal-zoom-enter,\n      .popup-portal-zoom-exit,\n      .popup-portal-bounce-enter,\n      .popup-portal-bounce-exit {\n        animation: none !important;\n        opacity: 1 !important;\n        transform: none !important;\n      }\n    }\n  `;\n}\n\n", "/**\n * FlashSalePopup Component - Enhanced\n *\n * Complete redesign featuring:\n * - Multiple discount types (basic, tiered, BOGO, free gift)\n * - Advanced timer modes (duration, fixed_end, personal, stock_limited)\n * - Real-time inventory tracking via API\n * - Reservation timer countdown\n * - Enhanced expired states\n * - Responsive design with themes\n */\n\nimport React, { useState, useEffect } from 'react';\nimport type { PopupDesignConfig, DiscountConfig as StorefrontDiscountConfig } from './types';\nimport type { FlashSaleContent } from '~/domains/campaigns/types/campaign';\nimport { PopupPortal } from './PopupPortal';\n\n/**\n * FlashSale-specific configuration\n */\nexport interface FlashSaleConfig extends PopupDesignConfig, FlashSaleContent {\n  // Storefront-specific fields\n  ctaOpenInNewTab?: boolean;\n  discountConfig?: any; // Legacy/advanced config (tiers, BOGO, free gift)\n  discount?: StorefrontDiscountConfig; // Normalized storefront discount summary\n  currentCartTotal?: number; // Injected by storefront runtime\n}\n\nexport interface FlashSalePopupProps {\n  config: FlashSaleConfig;\n  isVisible: boolean;\n  onClose: () => void;\n  onExpiry?: () => void;\n  onCtaClick?: () => void;\n  issueDiscount?: (options?: { cartSubtotalCents?: number }) => Promise<{ code?: string; autoApplyMode?: string } | null>;\n}\n\ninterface TimeRemaining {\n  total: number;\n  days: number;\n  hours: number;\n  minutes: number;\n  seconds: number;\n}\n\nfunction calculateTimeRemaining(endTime: Date | string): TimeRemaining {\n  const end = typeof endTime === \"string\" ? new Date(endTime).getTime() : endTime.getTime();\n  const now = Date.now();\n  const diff = Math.max(0, end - now);\n\n  return {\n    total: diff,\n    days: Math.floor(diff / (1000 * 60 * 60 * 24)),\n    hours: Math.floor((diff / (1000 * 60 * 60)) % 24),\n    minutes: Math.floor((diff / (1000 * 60)) % 60),\n    seconds: Math.floor((diff / 1000) % 60),\n  };\n}\n\nexport const FlashSalePopup: React.FC<FlashSalePopupProps> = ({\n  config,\n  isVisible,\n  onClose,\n  onExpiry,\n  onCtaClick,\n  issueDiscount,\n}) => {\n  const [timeRemaining, setTimeRemaining] = useState(() => {\n    // Determine end time based on timer mode\n    const timerMode = config.timer?.mode || 'duration';\n\n    if (timerMode === 'fixed_end' && config.timer?.endTimeISO) {\n      return calculateTimeRemaining(config.timer.endTimeISO);\n    } else if (timerMode === 'personal' && config.timer?.personalWindowSeconds) {\n      const endDate = new Date(Date.now() + config.timer.personalWindowSeconds * 1000);\n      return calculateTimeRemaining(endDate);\n    } else if (config.endTime) {\n      return calculateTimeRemaining(config.endTime);\n    } else if (config.countdownDuration) {\n      const endDate = new Date(Date.now() + config.countdownDuration * 1000);\n      return calculateTimeRemaining(endDate);\n    }\n\n    return { total: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };\n  });\n\n  const [hasExpired, setHasExpired] = useState(false);\n  const [inventoryTotal, setInventoryTotal] = useState<number | null>(null);\n  const [reservationTime, setReservationTime] = useState<TimeRemaining | null>(null);\n  const [hasClaimedDiscount, setHasClaimedDiscount] = useState(false);\n  const [isClaimingDiscount, setIsClaimingDiscount] = useState(false);\n  const [claimedDiscountCode, setClaimedDiscountCode] = useState<string | null>(null);\n  const [discountError, setDiscountError] = useState<string | null>(null);\n\n\n\n  // Fetch inventory if configured\n  useEffect(() => {\n    // In preview mode, avoid real API calls and rely on pseudo config only\n    if ((config as any).previewMode) {\n      if (!config.inventory || config.inventory.mode === 'pseudo') {\n        if (config.inventory?.pseudoMax) {\n          setInventoryTotal(config.inventory.pseudoMax);\n        }\n      }\n      return;\n    }\n\n    if (!config.inventory || config.inventory.mode === 'pseudo') {\n      // Use pseudo inventory\n      if (config.inventory?.pseudoMax) {\n        setInventoryTotal(config.inventory.pseudoMax);\n      }\n      return;\n    }\n\n    // Fetch real inventory from API via app proxy\n    const fetchInventory = async () => {\n      try {\n        const params = new URLSearchParams();\n        if (config.inventory?.productIds?.length) {\n          params.set('productIds', JSON.stringify(config.inventory.productIds));\n        }\n        if (config.inventory?.variantIds?.length) {\n          params.set('variantIds', JSON.stringify(config.inventory.variantIds));\n        }\n        if (config.inventory?.collectionIds?.length) {\n          params.set('collectionIds', JSON.stringify(config.inventory.collectionIds));\n        }\n\n        const response = await fetch(`/apps/revenue-boost/api/inventory?${params.toString()}`);\n        if (response.ok) {\n          const data = await response.json();\n          setInventoryTotal(data.total);\n        }\n      } catch (error) {\n        console.error('[FlashSalePopup] Failed to fetch inventory:', error);\n      }\n    };\n\n    fetchInventory();\n    const interval = setInterval(fetchInventory, 10000); // Refresh every 10s\n    return () => clearInterval(interval);\n  }, [config.inventory]);\n\n  // Update countdown timer\n  useEffect(() => {\n    if (!config.showCountdown || hasExpired) return;\n\n    // Compute a fixed end timestamp once for this effect run\n    const timerMode = config.timer?.mode || 'duration';\n    let endTimestamp: number | null = null;\n\n    if (timerMode === 'fixed_end' && config.timer?.endTimeISO) {\n      endTimestamp = new Date(config.timer.endTimeISO).getTime();\n    } else if (timerMode === 'personal' && config.timer?.personalWindowSeconds) {\n      endTimestamp = Date.now() + config.timer.personalWindowSeconds * 1000;\n    } else if (config.endTime) {\n      endTimestamp = new Date(config.endTime).getTime();\n    } else if (config.countdownDuration) {\n      endTimestamp = Date.now() + config.countdownDuration * 1000;\n    }\n\n    if (!endTimestamp) return;\n\n    const updateTimer = () => {\n      const now = Date.now();\n      const diff = Math.max(0, endTimestamp! - now);\n\n      const newTime: TimeRemaining = {\n        total: diff,\n        days: Math.floor(diff / (1000 * 60 * 60 * 24)),\n        hours: Math.floor((diff / (1000 * 60 * 60)) % 24),\n        minutes: Math.floor((diff / (1000 * 60)) % 60),\n        seconds: Math.floor((diff / 1000) % 60),\n      };\n\n      setTimeRemaining(newTime);\n\n      if (newTime.total <= 0) {\n        setHasExpired(true);\n        if (onExpiry) {\n          onExpiry();\n        }\n\n        const onExpireAction = config.timer?.onExpire || 'auto_hide';\n        if (onExpireAction === 'auto_hide' || config.hideOnExpiry || config.autoHideOnExpire) {\n          setTimeout(() => onClose(), config.autoHideOnExpire ? 2000 : 0);\n        }\n      }\n    };\n\n    // Run immediately so UI updates without 1s delay\n    updateTimer();\n    const timer = setInterval(updateTimer, 1000);\n\n    return () => clearInterval(timer);\n  }, [\n    config.showCountdown,\n    config.timer?.mode,\n    config.timer?.endTimeISO,\n    config.timer?.personalWindowSeconds,\n    config.endTime,\n    config.countdownDuration,\n    hasExpired,\n    onExpiry,\n    onClose,\n  ]);\n\n  // Handle reservation timer\n  useEffect(() => {\n    // When reservation is disabled or misconfigured, clear any existing timer state\n    if (!config.reserve?.enabled || !config.reserve?.minutes) {\n      setReservationTime(null);\n      return;\n    }\n\n    const reservationEnd = new Date(Date.now() + config.reserve.minutes * 60 * 1000);\n\n    const updateReservation = () => {\n      const remaining = calculateTimeRemaining(reservationEnd);\n      setReservationTime(remaining);\n\n      if (remaining.total <= 0) {\n        setReservationTime(null);\n      }\n    };\n\n    updateReservation();\n    const interval = setInterval(updateReservation, 1000);\n    return () => clearInterval(interval);\n  }, [config.reserve]);\n\n  const isPreview = (config as any).previewMode;\n  const discount = (config.discount ?? (config as any).discount) as StorefrontDiscountConfig | undefined;\n  // In preview, always behave as if a discount exists so the full flow can be exercised\n  const hasDiscount = isPreview ? true : !!discount?.enabled;\n\n  const isSoldOut = inventoryTotal !== null && inventoryTotal <= 0;\n  const isSoldOutAndMissed =\n    isSoldOut && config.inventory?.soldOutBehavior === 'missed_it';\n\n  const getCartSubtotalCents = () => {\n    const total = config.currentCartTotal;\n    if (typeof total === 'number' && Number.isFinite(total)) {\n      return Math.round(total * 100);\n    }\n    return undefined;\n  };\n\n  const getCtaLabel = () => {\n    if (hasExpired || isSoldOutAndMissed) {\n      return config.buttonText || config.ctaText || 'Offer unavailable';\n    }\n    if (isClaimingDiscount) {\n      return 'Applying...';\n    }\n    if (hasDiscount && !hasClaimedDiscount) {\n      return config.buttonText || config.ctaText || 'Get this offer';\n    }\n    return config.buttonText || config.ctaText || 'Shop Now';\n  };\n\n  const handleCtaClick = async () => {\n    const canClaimDiscount =\n      hasDiscount &&\n      !hasClaimedDiscount &&\n      !hasExpired &&\n      !isSoldOutAndMissed;\n\n    if (canClaimDiscount) {\n      setDiscountError(null);\n      setIsClaimingDiscount(true);\n      try {\n        if (issueDiscount) {\n          const cartSubtotalCents = getCartSubtotalCents();\n          const result = await issueDiscount(\n            cartSubtotalCents ? { cartSubtotalCents } : undefined,\n          );\n          if (result?.code) {\n            setClaimedDiscountCode(result.code);\n          }\n          setHasClaimedDiscount(true);\n        }\n      } catch (error) {\n        console.error('[FlashSalePopup] Failed to claim discount:', error);\n        setDiscountError('Something went wrong applying your discount. Please try again.');\n      } finally {\n        setIsClaimingDiscount(false);\n      }\n\n      // First click used to claim discount only\n      return;\n    }\n\n    // In preview mode, never navigate away from the editor\n    if (isPreview) {\n      return;\n    }\n\n    if (onCtaClick) {\n      onCtaClick();\n    }\n\n    if (config.ctaUrl) {\n      if (config.ctaOpenInNewTab) {\n        window.open(config.ctaUrl, '_blank', 'noopener,noreferrer');\n      } else {\n        window.location.href = config.ctaUrl;\n      }\n    }\n  };\n\n  if (!isVisible) return null;\n\n  if (isSoldOut && config.inventory?.soldOutBehavior === 'hide') {\n    return null;\n  }\n\n  // Determine discount display message\n  const getDiscountMessage = () => {\n    const dc = config.discountConfig;\n\n    if (dc?.tiers?.length) {\n      // Tiered discount\n      const tiers = dc.tiers.map((t: any) => {\n        const threshold = (t.thresholdCents / 100).toFixed(0);\n        if (t.discount.kind === 'free_shipping') return `$${threshold} free ship`;\n        return `$${threshold} get ${t.discount.value}${t.discount.kind === 'percentage' ? '%' : '$'} off`;\n      });\n      return `Spend more, save more: ${tiers.join(', ')}`;\n    }\n\n    if (dc?.bogo) {\n      const buy = dc.bogo.buy.quantity;\n      const get = dc.bogo.get.quantity;\n      if (dc.bogo.get.discount.kind === 'free_product') {\n        return `Buy ${buy} Get ${get} Free`;\n      }\n      return `Buy ${buy} Get ${get} at ${dc.bogo.get.discount.value}% off`;\n    }\n\n    if (dc?.freeGift) {\n      const min = dc.freeGift.minSubtotalCents ? `over $${(dc.freeGift.minSubtotalCents / 100).toFixed(0)}` : '';\n      return `Free gift with purchase ${min}`.trim();\n    }\n\n    // Basic discount\n    if (config.discountPercentage) {\n      return `${config.discountPercentage}% OFF`;\n    }\n\n    return null;\n  };\n\n  // Size configuration\n  const popupSize = config.popupSize || 'wide';\n  const maxWidth = popupSize === 'compact' ? '24rem' :\n                   popupSize === 'wide' ? '56rem' :\n                   popupSize === 'full' ? '90%' : '32rem';\n\n  const padding = popupSize === 'compact' ? '2rem 1.5rem' :\n                  popupSize === 'wide' || popupSize === 'full' ? '3rem' : '2.5rem 2rem';\n\n  const headlineSize = popupSize === 'compact' ? '2rem' :\n                       popupSize === 'wide' || popupSize === 'full' ? '3rem' : '2.5rem';\n\n  const discountSize = popupSize === 'compact' ? '6rem' :\n                       popupSize === 'wide' || popupSize === 'full' ? '10rem' : '8rem';\n\n  const discountMessage = getDiscountMessage();\n\n  // Respect presentation.showInventory flag from content config (admin toggle)\n  const presentationShowInventory = config.presentation?.showInventory !== false;\n\n  const showInventory = presentationShowInventory &&\n                        config.inventory?.showOnlyXLeft &&\n                        inventoryTotal !== null &&\n                        inventoryTotal <= (config.inventory?.showThreshold || 10);\n\n  const displayMode = config.displayMode || 'modal';\n\n  // Banner layout for flash sale (top/bottom announcement bar)\n  if (displayMode === 'banner') {\n    const bannerPosition = config.position === 'bottom' ? 'bottom' : 'top';\n\n    return (\n      <>\n        <style>{`\n          .flash-sale-banner {\n            font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif;\n          }\n          .flash-sale-banner-inner {\n            max-width: 1200px;\n            margin: 0 auto;\n            padding: 1rem 1.5rem;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            gap: 1.25rem;\n            position: relative;\n            padding-right: 3.5rem;\n          }\n          .flash-sale-banner-left {\n            flex: 1;\n            min-width: 0;\n          }\n          .flash-sale-banner-badge {\n            display: inline-flex;\n            align-items: center;\n            gap: 0.5rem;\n            padding: 0.25rem 0.75rem;\n            border-radius: 9999px;\n            font-size: 0.75rem;\n            font-weight: 700;\n            letter-spacing: 0.08em;\n            text-transform: uppercase;\n            margin-bottom: 0.25rem;\n            background: ${config.accentColor || '#ef4444'};\n            color: ${config.backgroundColor || '#ffffff'};\n          }\n          .flash-sale-banner-headline {\n            font-size: 1.125rem;\n            font-weight: 700;\n            line-height: 1.4;\n            margin: 0 0 0.25rem 0;\n          }\n          .flash-sale-banner-subheadline {\n            font-size: 0.875rem;\n            line-height: 1.4;\n            margin: 0;\n            opacity: 0.9;\n          }\n          .flash-sale-banner-discount {\n            margin-top: 0.5rem;\n            font-size: 0.875rem;\n            font-weight: 600;\n          }\n          .flash-sale-banner-center {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .flash-sale-banner-timer {\n            display: flex;\n            gap: 0.5rem;\n            align-items: center;\n          }\n          .flash-sale-banner-timer-unit {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 0.5rem 0.75rem;\n            border-radius: 0.375rem;\n            min-width: 3.25rem;\n          }\n          .flash-sale-banner-timer-value {\n            font-size: 1.35rem;\n            font-weight: 700;\n            line-height: 1;\n            font-variant-numeric: tabular-nums;\n          }\n          .flash-sale-banner-timer-label {\n            font-size: 0.625rem;\n            text-transform: uppercase;\n            opacity: 0.85;\n            margin-top: 0.15rem;\n            letter-spacing: 0.5px;\n          }\n          .flash-sale-banner-timer-separator {\n            font-size: 1.25rem;\n            font-weight: 700;\n            opacity: 0.6;\n          }\n          .flash-sale-banner-stock {\n            font-size: 0.75rem;\n            font-weight: 600;\n            padding: 0.25rem 0.75rem;\n            border-radius: 999px;\n            background: rgba(255, 255, 255, 0.2);\n            white-space: nowrap;\n          }\n          .flash-sale-banner-reservation {\n            font-size: 0.75rem;\n            font-weight: 500;\n            opacity: 0.9;\n          }\n          .flash-sale-banner-right {\n            display: flex;\n            align-items: center;\n            gap: 0.75rem;\n          }\n          .flash-sale-banner-cta {\n            padding: 0.75rem 1.5rem;\n            font-size: 0.95rem;\n            font-weight: 600;\n            border: none;\n            border-radius: 0.375rem;\n            cursor: pointer;\n            white-space: nowrap;\n            transition: transform 0.2s, box-shadow 0.2s;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n          }\n          .flash-sale-banner-cta:hover:not(:disabled) {\n            transform: translateY(-1px);\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n          }\n          .flash-sale-banner-cta:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n          }\n          .flash-sale-banner-close {\n            position: absolute;\n            top: 0.75rem;\n            right: 0.75rem;\n            background: transparent;\n            border: none;\n            font-size: 1.5rem;\n            line-height: 1;\n            cursor: pointer;\n            opacity: 0.7;\n            transition: opacity 0.2s;\n            padding: 0.25rem;\n            width: 2rem;\n            height: 2rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .flash-sale-banner-close:hover {\n            opacity: 1;\n          }\n          .flash-sale-banner-expired {\n            text-align: center;\n            font-weight: 600;\n            font-size: 0.875rem;\n          }\n          @media (max-width: 768px) {\n            .flash-sale-banner-inner {\n              flex-direction: column;\n              padding: 1.1rem 1rem;\n              gap: 0.75rem;\n              text-align: center;\n              padding-right: 3rem;\n            }\n            .flash-sale-banner-right {\n              width: 100%;\n              justify-content: center;\n            }\n            .flash-sale-banner-cta {\n              width: 100%;\n            }\n            .flash-sale-banner-headline {\n              font-size: 1rem;\n            }\n            .flash-sale-banner-subheadline {\n              font-size: 0.8125rem;\n            }\n          }\n        `}</style>\n\n        <div\n          className=\"flash-sale-banner\"\n          style={{\n            position: 'fixed',\n            [bannerPosition]: 0,\n            left: 0,\n            right: 0,\n            zIndex: 9999,\n            background: config.backgroundColor || '#111827',\n            color: config.textColor || '#ffffff',\n            boxShadow:\n              bannerPosition === 'bottom'\n                ? '0 -2px 8px rgba(0, 0, 0, 0.15)'\n                : '0 2px 8px rgba(0, 0, 0, 0.15)',\n          }}\n        >\n          <div className=\"flash-sale-banner-inner\">\n            {config.showCloseButton !== false && (\n              <button\n                className=\"flash-sale-banner-close\"\n                onClick={onClose}\n                aria-label=\"Close flash sale banner\"\n              >\n                \u00D7\n              </button>\n            )}\n\n            <div className=\"flash-sale-banner-left\">\n              <div className=\"flash-sale-banner-badge\">\n                Limited Time Offer\n              </div>\n              <h2 className=\"flash-sale-banner-headline\">\n                {config.headline || 'Flash Sale!'}\n              </h2>\n              {config.subheadline && (\n                <p className=\"flash-sale-banner-subheadline\">{config.subheadline}</p>\n              )}\n              {(claimedDiscountCode || discountMessage) && (\n                <div className=\"flash-sale-banner-discount\">\n                  {claimedDiscountCode ? (\n                    <>\n                      Use code <strong>{claimedDiscountCode}</strong> at checkout.\n                    </>\n                  ) : (\n                    discountMessage\n                  )}\n                </div>\n              )}\n            </div>\n\n            <div className=\"flash-sale-banner-center\">\n              {isSoldOut && config.inventory?.soldOutBehavior === 'missed_it' ? (\n                <div className=\"flash-sale-banner-expired\">\n                  {config.inventory?.soldOutMessage || 'This deal is sold out. Check back later!'}\n                </div>\n              ) : hasExpired ? (\n                <div className=\"flash-sale-banner-expired\">\n                  {config.timer?.expiredMessage || 'Sale ended'}\n                </div>\n              ) : (\n                <>\n                  {config.showCountdown && timeRemaining.total > 0 && (\n                    <div className=\"flash-sale-banner-timer\">\n                      {timeRemaining.days > 0 && (\n                        <>\n                          <div\n                            className=\"flash-sale-banner-timer-unit\"\n                            style={{\n                              background: config.accentColor ? `${config.accentColor}20` : 'rgba(239, 68, 68, 0.15)',\n                              color: config.accentColor || '#ffffff',\n                            }}\n                          >\n                            <div className=\"flash-sale-banner-timer-value\">\n                              {String(timeRemaining.days).padStart(2, '0')}\n                            </div>\n                            <div className=\"flash-sale-banner-timer-label\">Days</div>\n                          </div>\n                          <span\n                            className=\"flash-sale-banner-timer-separator\"\n                          >\n                            :\n                          </span>\n                        </>\n                      )}\n\n                      <div\n                        className=\"flash-sale-banner-timer-unit\"\n                        style={{\n                          background: config.accentColor ? `${config.accentColor}20` : 'rgba(239, 68, 68, 0.15)',\n                          color: config.accentColor || '#ffffff',\n                        }}\n                      >\n                        <div className=\"flash-sale-banner-timer-value\">\n                          {String(timeRemaining.hours).padStart(2, '0')}\n                        </div>\n                        <div className=\"flash-sale-banner-timer-label\">Hours</div>\n                      </div>\n\n                      <span className=\"flash-sale-banner-timer-separator\">:</span>\n\n                      <div\n                        className=\"flash-sale-banner-timer-unit\"\n                        style={{\n                          background: config.accentColor ? `${config.accentColor}20` : 'rgba(239, 68, 68, 0.15)',\n                          color: config.accentColor || '#ffffff',\n                        }}\n                      >\n                        <div className=\"flash-sale-banner-timer-value\">\n                          {String(timeRemaining.minutes).padStart(2, '0')}\n                        </div>\n                        <div className=\"flash-sale-banner-timer-label\">Mins</div>\n                      </div>\n\n                      <span className=\"flash-sale-banner-timer-separator\">:</span>\n\n                      <div\n                        className=\"flash-sale-banner-timer-unit\"\n                        style={{\n                          background: config.accentColor ? `${config.accentColor}20` : 'rgba(239, 68, 68, 0.15)',\n                          color: config.accentColor || '#ffffff',\n                        }}\n                      >\n                        <div className=\"flash-sale-banner-timer-value\">\n                          {String(timeRemaining.seconds).padStart(2, '0')}\n                        </div>\n                        <div className=\"flash-sale-banner-timer-label\">Secs</div>\n                      </div>\n                    </div>\n                  )}\n\n                  {showInventory && inventoryTotal !== null && (\n                    <div className=\"flash-sale-banner-stock\">\n                      \u26A1 Only {inventoryTotal} left in stock\n                    </div>\n                  )}\n\n                  {reservationTime && reservationTime.total > 0 && (\n                    <div className=\"flash-sale-banner-reservation\">\n                      {(config.reserve?.label || 'Offer reserved for:') + ' '}\n                      {reservationTime.minutes}:{String(reservationTime.seconds).padStart(2, '0')}\n                    </div>\n                  )}\n                </>\n              )}\n            </div>\n\n            <div className=\"flash-sale-banner-right\">\n              {(config.buttonText || config.ctaText) && (\n                <button\n                  className=\"flash-sale-banner-cta\"\n                  onClick={handleCtaClick}\n                  disabled={\n                    hasExpired ||\n                    isSoldOutAndMissed ||\n                    isClaimingDiscount\n                  }\n                  style={{\n                    background: config.buttonColor || config.accentColor || '#ffffff',\n                    color: config.buttonTextColor || config.textColor || '#111827',\n                    borderRadius: typeof config.borderRadius === 'number'\n                      ? `${config.borderRadius}px`\n                      : (config.borderRadius || '6px'),\n                  }}\n                >\n                  {getCtaLabel()}\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n\n\n  return (\n    <PopupPortal\n      isVisible={isVisible}\n      onClose={onClose}\n      backdrop={{\n        color: config.overlayColor || 'rgba(0, 0, 0, 0.7)',\n        opacity: config.overlayOpacity ?? 0.7,\n        blur: 4,\n      }}\n      animation={{\n        type: config.animation || 'zoom',\n      }}\n      position={config.position || 'center'}\n      closeOnEscape={config.closeOnEscape !== false}\n      closeOnBackdropClick={config.closeOnOverlayClick !== false}\n      previewMode={config.previewMode}\n      ariaLabel={config.ariaLabel || config.headline || 'Flash Sale'}\n      ariaDescribedBy={config.ariaDescribedBy}\n    >\n      <style>{`\n        .flash-sale-container {\n          position: relative;\n          width: 100%;\n          max-width: ${maxWidth};\n          border-radius: ${typeof config.borderRadius === 'number' ? config.borderRadius : parseFloat(config.borderRadius || '16')}px;\n          overflow: hidden;\n          box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n          background: ${config.backgroundColor || '#ffffff'};\n          color: ${config.textColor || '#111827'};\n          font-family: ${config.fontFamily || 'inherit'};\n        }\n\n        .flash-sale-close {\n          position: absolute;\n          top: 1rem;\n          right: 1rem;\n          z-index: 10;\n          padding: 0.5rem;\n          border-radius: 9999px;\n          background: rgba(0, 0, 0, 0.1);\n          border: none;\n          cursor: pointer;\n          transition: background 0.2s;\n          color: ${config.descriptionColor || config.textColor || '#52525b'};\n        }\n\n        .flash-sale-close:hover {\n          background: rgba(0, 0, 0, 0.2);\n        }\n\n        .flash-sale-content {\n          padding: ${padding};\n          text-align: center;\n        }\n\n        .flash-sale-badge {\n          display: inline-block;\n          padding: 0.5rem 1.5rem;\n          border-radius: 9999px;\n          font-size: 0.875rem;\n          font-weight: 700;\n          letter-spacing: 0.05em;\n          margin-bottom: 1rem;\n          text-transform: uppercase;\n          background: ${config.accentColor || '#ef4444'};\n          color: ${config.backgroundColor || '#ffffff'};\n        }\n\n        .flash-sale-headline {\n          font-size: ${headlineSize};\n          font-weight: 900;\n          line-height: 1.1;\n          margin-bottom: 0.75rem;\n          color: ${config.textColor || '#111827'};\n        }\n\n        .flash-sale-supporting {\n          font-size: 1.125rem;\n          line-height: 1.6;\n          margin-bottom: 2rem;\n          color: ${config.descriptionColor || config.textColor || '#52525b'};\n        }\n\n        .flash-sale-discount-message {\n          font-size: 1rem;\n          font-weight: 600;\n          padding: 1rem 1.5rem;\n          border-radius: 0.5rem;\n          margin-bottom: 1.5rem;\n          background: ${config.accentColor ? `${config.accentColor}15` : 'rgba(239, 68, 68, 0.1)'};\n          color: ${config.accentColor || '#ef4444'};\n          border: 2px solid ${config.accentColor ? `${config.accentColor}40` : 'rgba(239, 68, 68, 0.25)'};\n        }\n\n        .flash-sale-urgency {\n          font-size: 0.875rem;\n          font-weight: 600;\n          text-transform: uppercase;\n          letter-spacing: 0.1em;\n          margin-bottom: 1rem;\n          color: ${config.descriptionColor || config.textColor || '#52525b'};\n        }\n\n        .flash-sale-timer {\n          display: flex;\n          gap: 0.75rem;\n          justify-content: center;\n          margin-bottom: 1.5rem;\n        }\n\n        .flash-sale-timer-unit {\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          gap: 0.5rem;\n          min-width: 4rem;\n          padding: 1rem 0.75rem;\n          border-radius: 0.5rem;\n          background: ${config.accentColor ? `${config.accentColor}20` : 'rgba(239, 68, 68, 0.1)'};\n          color: ${config.accentColor || '#ef4444'};\n        }\n\n        .flash-sale-timer-value {\n          font-size: 2rem;\n          font-weight: 900;\n          line-height: 1;\n        }\n\n        .flash-sale-timer-label {\n          font-size: 0.75rem;\n          font-weight: 500;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n          opacity: 0.8;\n        }\n\n        .flash-sale-inventory {\n          display: inline-flex;\n          align-items: center;\n          gap: 0.5rem;\n          padding: 0.75rem 1.25rem;\n          border-radius: 9999px;\n          font-size: 0.875rem;\n          font-weight: 600;\n          margin-bottom: 1.5rem;\n          background: ${config.accentColor ? `${config.accentColor}20` : 'rgba(239, 68, 68, 0.1)'};\n          color: ${config.accentColor || '#ef4444'};\n        }\n\n        .flash-sale-inventory-dot {\n          width: 0.5rem;\n          height: 0.5rem;\n          border-radius: 9999px;\n          background: ${config.accentColor || '#ef4444'};\n          animation: pulse 2s infinite;\n        }\n\n        .flash-sale-reservation {\n          font-size: 0.875rem;\n          padding: 0.75rem 1rem;\n          border-radius: 0.5rem;\n          margin-bottom: 1rem;\n          background: rgba(59, 130, 246, 0.1);\n          color: #3b82f6;\n          border: 1px solid rgba(59, 130, 246, 0.3);\n        }\n\n        .flash-sale-cta {\n          width: 100%;\n          padding: 1rem 2rem;\n          border-radius: 0.5rem;\n          border: none;\n          font-size: 1.125rem;\n          font-weight: 700;\n          cursor: pointer;\n          transition: all 0.2s;\n          text-transform: uppercase;\n          letter-spacing: 0.05em;\n          background: ${config.buttonColor || config.accentColor || '#ef4444'};\n          color: ${config.buttonTextColor || '#ffffff'};\n        }\n\n        .flash-sale-cta:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);\n        }\n\n        .flash-sale-cta:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .flash-sale-secondary-cta {\n          margin-top: 0.75rem;\n          width: 100%;\n          padding: 0.75rem 2rem;\n          border-radius: 0.5rem;\n          border: 1px solid rgba(148, 163, 184, 0.6);\n          background: transparent;\n          color: ${config.textColor || '#e5e7eb'};\n          font-size: 0.875rem;\n          font-weight: 500;\n          cursor: pointer;\n        }\n\n        .flash-sale-secondary-cta:hover {\n          background: rgba(15, 23, 42, 0.08);\n        }\n\n        .flash-sale-expired {\n          padding: 2rem;\n          text-align: center;\n        }\n\n        .flash-sale-sold-out {\n          padding: 2rem;\n          text-align: center;\n        }\n\n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n\n        @media (max-width: 640px) {\n          .flash-sale-content {\n            padding: 2rem 1.5rem;\n          }\n\n          .flash-sale-headline {\n            font-size: 2rem;\n          }\n\n          .flash-sale-timer-unit {\n            min-width: 3.5rem;\n            padding: 0.75rem 0.5rem;\n          }\n\n          .flash-sale-timer-value {\n            font-size: 1.5rem;\n          }\n        }\n      `}</style>\n\n      <div className=\"flash-sale-container\">\n        <button\n          onClick={onClose}\n          className=\"flash-sale-close\"\n          aria-label=\"Close popup\"\n        >\n          <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n            <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\" />\n            <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\" />\n          </svg>\n        </button>\n\n        {isSoldOut && config.inventory?.soldOutBehavior === 'missed_it' ? (\n          <div className=\"flash-sale-sold-out\">\n            <h3 style={{ marginBottom: '0.5rem', fontSize: '1.5rem', fontWeight: '700' }}>\n              You Missed It!\n            </h3>\n            <p style={{ opacity: 0.8 }}>\n              {config.inventory.soldOutMessage || 'This deal is sold out. Check back later!'}\n            </p>\n          </div>\n        ) : hasExpired ? (\n          <div className=\"flash-sale-expired\">\n            <h3 style={{ marginBottom: '0.5rem', fontSize: '1.5rem', fontWeight: '700' }}>\n              Sale Ended\n            </h3>\n            <p style={{ opacity: 0.8 }}>\n              {config.timer?.expiredMessage || 'This flash sale has expired. Check back soon for more deals!'}\n            </p>\n          </div>\n        ) : (\n          <div className=\"flash-sale-content\">\n            <div className=\"flash-sale-badge\">\n              Limited Time\n            </div>\n\n            <h2 className=\"flash-sale-headline\">\n              {config.headline || 'Flash Sale!'}\n            </h2>\n\n            <p className=\"flash-sale-supporting\">\n              {config.subheadline || \"Limited time offer - Don't miss out!\"}\n            </p>\n\n            {(claimedDiscountCode || discountMessage) && (\n              <div className=\"flash-sale-discount-message\">\n                {claimedDiscountCode ? (\n                  <>\n                    Use code <strong>{claimedDiscountCode}</strong> at checkout.\n                  </>\n                ) : (\n                  discountMessage\n                )}\n              </div>\n            )}\n\n            {config.urgencyMessage && (\n              <div className=\"flash-sale-urgency\">\n                {config.urgencyMessage}\n              </div>\n            )}\n\n            {config.showCountdown && timeRemaining.total > 0 && (\n              <div className=\"flash-sale-timer\">\n                {timeRemaining.days > 0 && (\n                  <div className=\"flash-sale-timer-unit\">\n                    <div className=\"flash-sale-timer-value\">\n                      {String(timeRemaining.days).padStart(2, \"0\")}\n                    </div>\n                    <div className=\"flash-sale-timer-label\">Days</div>\n                  </div>\n                )}\n                <div className=\"flash-sale-timer-unit\">\n                  <div className=\"flash-sale-timer-value\">\n                    {String(timeRemaining.hours).padStart(2, \"0\")}\n                  </div>\n                  <div className=\"flash-sale-timer-label\">Hours</div>\n                </div>\n                <div className=\"flash-sale-timer-unit\">\n                  <div className=\"flash-sale-timer-value\">\n                    {String(timeRemaining.minutes).padStart(2, \"0\")}\n                  </div>\n                  <div className=\"flash-sale-timer-label\">Mins</div>\n                </div>\n                <div className=\"flash-sale-timer-unit\">\n                  <div className=\"flash-sale-timer-value\">\n                    {String(timeRemaining.seconds).padStart(2, \"0\")}\n                  </div>\n                  <div className=\"flash-sale-timer-label\">Secs</div>\n                </div>\n              </div>\n            )}\n\n            {showInventory && (\n              <div className=\"flash-sale-inventory\">\n                <div className=\"flash-sale-inventory-dot\" />\n                Only {inventoryTotal} left in stock!\n              </div>\n            )}\n\n            {reservationTime && reservationTime.total > 0 && (\n              <div className=\"flash-sale-reservation\">\n                {config.reserve?.label || 'Offer reserved for:'} {reservationTime.minutes}:{String(reservationTime.seconds).padStart(2, '0')}\n                {config.reserve?.disclaimer && (\n                  <div style={{ fontSize: '0.75rem', marginTop: '0.25rem', opacity: 0.7 }}>\n                    {config.reserve.disclaimer}\n                  </div>\n                )}\n              </div>\n            )}\n\n            <button\n              onClick={handleCtaClick}\n              className=\"flash-sale-cta\"\n              disabled={\n                hasExpired ||\n                isSoldOutAndMissed ||\n                isClaimingDiscount\n              }\n            >\n              {getCtaLabel()}\n            </button>\n\n            <button\n              type=\"button\"\n              onClick={onClose}\n              className=\"flash-sale-secondary-cta\"\n            >\n              {config.dismissLabel || 'No thanks'}\n            </button>\n          </div>\n        )}\n      </div>\n    </PopupPortal>\n  );\n};\n\nexport default FlashSalePopup;\n", "/**\n * Flash Sale Popup Bundle\n * Registers the FlashSale popup component for storefront use\n */\n\nimport { FlashSalePopup } from \"../../../app/domains/storefront/popups-new/FlashSalePopup\";\n\n(function register() {\n  const g = window as unknown as { RevenueBoostComponents?: Record<string, unknown>; console?: Console };\n  g.RevenueBoostComponents = g.RevenueBoostComponents || {};\n  g.RevenueBoostComponents[\"FLASH_SALE\"] = FlashSalePopup;\n\n  if (typeof g.console?.debug === \"function\") {\n    console.debug(\"[Revenue Boost] Flash Sale popup registered\");\n  }\n})();\n\n"],
  "mappings": ";;;AACgB,MAAI,OAAO,WAAW,eAAe,CAAC,OAAO,oBAAoB;AAC/D,UAAM,IAAI,MAAM,sEAAsE;AAAA,EACxF;AACA,MAAM,EAAE,GAAG,WAAW,UAAU,QAAQ,aAAa,IAAI,OAAO;AAChE,MAAM,EAAE,UAAU,WAAW,aAAa,QAAQ,QAAQ,IAAI,OAAO,mBAAmB;;;ACJxF,MAAI,OAAO,WAAW,eAAe,CAAC,OAAO,oBAAoB;AAC/D,UAAM,IAAI,MAAM,sEAAsE;AAAA,EACxF;AACO,MAAMA,UAAS,OAAO,mBAAmB;AACzC,MAAMC,gBAAe,OAAO,mBAAmB;AACtD,MAAO,kCAAQ,EAAE,QAAQ,OAAO,mBAAmB,QAAQ,cAAc,OAAO,mBAAmB,aAAa;;;ACLhH,MAAI,OAAO,WAAW,eAAe,CAAC,OAAO,oBAAoB;AAC/D,UAAM,IAAI,MAAM,sEAAsE;AAAA,EACxF;AACA,MAAM,UAAU,OAAO,mBAAmB,WAAW,CAAC;AACtD,MAAMC,KAAI,OAAO,mBAAmB;AAGpC,MAAI,UAAU;AACP,WAAS,IAAI,MAAM,OAAO,KAAK,kBAAkB,UAAU,QAAQ;AACxE,QAAI,CAAC,MAAO,SAAQ,CAAC;AACrB,QAAI,kBAAkB;AACtB,QAAI;AAEJ,QAAI,SAAS,OAAO;AAClB,wBAAkB,CAAC;AACnB,eAAS,KAAK,OAAO;AACnB,YAAI,MAAM,MAAO,OAAM,MAAM,CAAC;AAAA,YACzB,iBAAgB,CAAC,IAAI,MAAM,CAAC;AAAA,MACnC;AAAA,IACF;AAEA,UAAM,QAAQ;AAAA,MACZ;AAAA,MACA,OAAO;AAAA,MACP,KAAK,QAAQ,SAAY,MAAM;AAAA,MAC/B,KAAK,QAAQ,SAAY,MAAM;AAAA,MAC/B,KAAK;AAAA,MACL,IAAI;AAAA,MACJ,KAAK;AAAA,MACL,KAAK;AAAA,MACL,KAAK;AAAA,MACL,aAAa;AAAA,MACb,KAAK,EAAE;AAAA,MACP,KAAK;AAAA,MACL,KAAK;AAAA,MACL;AAAA,MACA;AAAA,IACF;AAEA,QAAI,OAAO,SAAS,eAAe,MAAM,KAAK,eAAe;AAC3D,eAAS,KAAK,KAAK;AACjB,YAAI,gBAAgB,CAAC,MAAM,QAAW;AACpC,0BAAgB,CAAC,IAAI,IAAI,CAAC;AAAA,QAC5B;AAAA,MACF;AAAA,IACF;AAEA,QAAI,QAAQ,MAAO,SAAQ,MAAM,KAAK;AACtC,WAAO;AAAA,EACT;AAEO,MAAM,OAAO;AAGb,MAAMC,YAAW,OAAO,mBAAmB;;;ACSlE,MAAM,yBAAyB;AAAA,IAC7B,MAAM;AAAA,MACJ,UAAU,EAAE,OAAO,GAAG,UAAU,IAAI;AAAA,MACpC,SAAS,EAAE,OAAO,GAAG,UAAU,IAAI;AAAA,IACrC;AAAA,IACA,OAAO;AAAA,MACL,UAAU,EAAE,OAAO,GAAG,UAAU,IAAI;AAAA,MACpC,SAAS,EAAE,OAAO,IAAI,UAAU,IAAI;AAAA,IACtC;AAAA,IACA,MAAM;AAAA,MACJ,UAAU,EAAE,OAAO,GAAG,UAAU,IAAI;AAAA,MACpC,SAAS,EAAE,OAAO,GAAG,UAAU,IAAI;AAAA,IACrC;AAAA,IACA,QAAQ;AAAA,MACN,UAAU,EAAE,OAAO,GAAG,UAAU,IAAI;AAAA,MACpC,SAAS,EAAE,OAAO,IAAI,UAAU,IAAI;AAAA,IACtC;AAAA,IACA,MAAM;AAAA,MACJ,UAAU,EAAE,OAAO,GAAG,UAAU,EAAE;AAAA,MAClC,SAAS,EAAE,OAAO,GAAG,UAAU,EAAE;AAAA,IACnC;AAAA,EACF;AAEO,MAAM,cAA0C,CAAC;AAAA,IACtD;AAAA,IACA;AAAA,IACA;AAAA,IACA,WAAW,CAAC;AAAA,IACZ,YAAY,EAAE,MAAM,OAAO;AAAA,IAC3B,WAAW;AAAA,IACX,gBAAgB;AAAA,IAChB,uBAAuB;AAAA,IACvB,cAAc;AAAA,IACd;AAAA,IACA;AAAA,EACF,MAAM;AACJ,UAAM,CAAC,WAAW,YAAY,IAAI,SAAS,KAAK;AAChD,UAAM,CAAC,WAAW,YAAY,IAAI,SAAS,KAAK;AAChD,UAAM,mBAAmB,OAA2B,IAAI;AACxD,UAAM,aAAa,OAAuB,IAAI;AAC9C,UAAM,gBAAgB,OAA8B,IAAI;AACxD,UAAM,gBAAgB,OAA0B,IAAI;AAGpD,UAAM,gBAAgB,UAAU,QAAQ;AACxC,UAAM,eAAe,uBAAuB,aAAa;AACzD,UAAM,iBAAiB,QAAQ,OAAO;AAAA,MACpC,OAAO,UAAU,iBAAiB,aAAa,SAAS;AAAA,MACxD,UAAU,UAAU,YAAY,aAAa,SAAS;AAAA,IACxD,IAAI,CAAC,UAAU,eAAe,UAAU,UAAU,aAAa,SAAS,OAAO,aAAa,SAAS,QAAQ,CAAC;AAE9G,UAAM,gBAAgB,QAAQ,OAAO;AAAA,MACnC,OAAO,UAAU,gBAAgB,aAAa,QAAQ;AAAA,MACtD,UAAU,UAAU,YAAY,aAAa,QAAQ;AAAA,IACvD,IAAI,CAAC,UAAU,cAAc,UAAU,UAAU,aAAa,QAAQ,OAAO,aAAa,QAAQ,QAAQ,CAAC;AAG3G,UAAM,mBAAmB,YAAY,MAAM;AACzC,YAAM,UAAU,SAAS,WAAW;AACpC,YAAM,QAAQ,SAAS,SAAS;AAGhC,UAAI,MAAM,WAAW,MAAM,GAAG;AAC5B,cAAM,YAAY,MAAM,MAAM,iDAAiD;AAC/E,YAAI,WAAW;AACb,iBAAO,QAAQ,UAAU,CAAC,CAAC,KAAK,UAAU,CAAC,CAAC,KAAK,UAAU,CAAC,CAAC,KAAK,OAAO;AAAA,QAC3E;AAAA,MACF;AAGA,UAAI,MAAM,WAAW,KAAK,GAAG;AAC3B,cAAM,WAAW,MAAM,MAAM,gCAAgC;AAC7D,YAAI,UAAU;AACZ,iBAAO,QAAQ,SAAS,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,KAAK,SAAS,CAAC,CAAC,KAAK,OAAO;AAAA,QACxE;AAAA,MACF;AAGA,UAAI,MAAM,WAAW,GAAG,GAAG;AACzB,cAAM,MAAM,MAAM,MAAM,CAAC;AACzB,cAAM,IAAI,SAAS,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AACtC,cAAM,IAAI,SAAS,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AACtC,cAAM,IAAI,SAAS,IAAI,MAAM,GAAG,CAAC,GAAG,EAAE;AACtC,eAAO,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,KAAK,OAAO;AAAA,MAC1C;AAGA,aAAO,iBAAiB,OAAO;AAAA,IACjC,GAAG,CAAC,SAAS,OAAO,SAAS,OAAO,CAAC;AAGrC,UAAM,cAAc,YAAY,MAAM;AACpC,UAAI,kBAAkB,QAAQ;AAC5B,qBAAa,IAAI;AAEjB,cAAM,cAAc,KAAK;AAAA,UACvB,eAAe,QAAQ,eAAe;AAAA,UACtC,cAAc,QAAQ,cAAc;AAAA,QACtC;AACA,mBAAW,MAAM;AACf,kBAAQ;AACR,uBAAa,KAAK;AAAA,QACpB,GAAG,WAAW;AAAA,MAChB,OAAO;AACL,gBAAQ;AAAA,MACV;AAAA,IACF,GAAG,CAAC,eAAe,gBAAgB,eAAe,OAAO,CAAC;AAG1D,cAAU,MAAM;AACd,UAAI,CAAC,aAAa,CAAC,cAAe;AAElC,YAAM,eAAe,CAAC,UAAyB;AAC7C,YAAI,MAAM,QAAQ,UAAU;AAC1B,sBAAY;AAAA,QACd;AAAA,MACF;AAEA,eAAS,iBAAiB,WAAW,YAAY;AACjD,aAAO,MAAM,SAAS,oBAAoB,WAAW,YAAY;AAAA,IACnE,GAAG,CAAC,WAAW,eAAe,WAAW,CAAC;AAG1C,UAAM,sBAA+D,YAAY,CAAC,MAAM;AACtF,UAAI,sBAAsB;AACxB,oBAAY;AAAA,MACd;AAAA,IACF,GAAG,CAAC,sBAAsB,WAAW,CAAC;AAGtC,UAAM,qBAA8D,YAAY,CAAC,MAAM;AACrF,QAAE,gBAAgB;AAAA,IACpB,GAAG,CAAC,CAAC;AAGL,cAAU,MAAM;AACd,UAAI,aAAa,CAAC,aAAa;AAE7B,yBAAiB,UAAU,SAAS;AAGpC,YAAI,WAAW,SAAS;AACtB,qBAAW,QAAQ,MAAM;AAAA,QAC3B;AAAA,MACF;AAEA,aAAO,MAAM;AAEX,YAAI,iBAAiB,WAAW,CAAC,aAAa;AAC5C,2BAAiB,QAAQ,MAAM;AAAA,QACjC;AAAA,MACF;AAAA,IACF,GAAG,CAAC,WAAW,WAAW,CAAC;AAG3B,cAAU,MAAM;AACd,UAAI,aAAa,CAAC,aAAa;AAC7B,iBAAS,KAAK,MAAM,WAAW;AAAA,MACjC,OAAO;AACL,iBAAS,KAAK,MAAM,WAAW;AAAA,MACjC;AAEA,aAAO,MAAM;AACX,iBAAS,KAAK,MAAM,WAAW;AAAA,MACjC;AAAA,IACF,GAAG,CAAC,WAAW,WAAW,CAAC;AAG3B,cAAU,MAAM;AACd,UAAI,YAAa;AAGjB,UAAI,OAAO,SAAS,eAAe,iCAAiC;AAEpE,UAAI,CAAC,MAAM;AACT,eAAO,SAAS,cAAc,KAAK;AACnC,aAAK,KAAK;AAGV,aAAK,MAAM,UAAU;AACrB,iBAAS,KAAK,YAAY,IAAI;AAAA,MAChC;AAGA,UAAI,CAAC,KAAK,YAAY;AACpB,cAAM,aAAa,KAAK,aAAa,EAAE,MAAM,OAAO,CAAC;AACrD,sBAAc,UAAU;AAGxB,YAAI;AACF,gBAAM,QAAQ,IAAI,cAAc;AAChC,gBAAM,YAAY;AAAA;AAAA;AAAA;AAAA,SAIjB;AACD,qBAAW,qBAAqB,CAAC,KAAK;AAAA,QACxC,SAAS,GAAG;AACV,kBAAQ,KAAK,2EAA2E;AAAA,QAC1F;AAAA,MACF,OAAO;AACL,sBAAc,UAAU,KAAK;AAAA,MAC/B;AAEA,oBAAc,UAAU;AAExB,aAAO,MAAM;AAEX,YAAI,QAAQ,KAAK,YAAY;AAC3B,eAAK,WAAW,YAAY,IAAI;AAAA,QAClC;AAAA,MACF;AAAA,IACF,GAAG,CAAC,WAAW,CAAC;AAGhB,cAAU,MAAM;AACd,UAAI,WAAW;AACb,qBAAa,IAAI;AAAA,MACnB,WAAW,CAAC,WAAW;AACrB,qBAAa,KAAK;AAAA,MACpB;AAAA,IACF,GAAG,CAAC,WAAW,SAAS,CAAC;AAGzB,QAAI,CAAC,aAAa,CAAC,UAAW,QAAO;AAGrC,UAAM,uBAAuB,OAAO,WAAW,eAC7C,OAAO,WAAW,kCAAkC,EAAE;AAExD,UAAM,yBAAyB,uBAAuB,SAAS;AAG/D,UAAM,oBAAoB,MAAM;AAC9B,UAAI,2BAA2B,OAAQ,QAAO;AAE9C,YAAM,YAAY,YAAY,SAAS;AACvC,aAAO,gBAAgB,sBAAsB,IAAI,SAAS;AAAA,IAC5D;AAEA,UAAM,yBAAyB,kBAAkB;AACjD,UAAM,wBAAwB,kBAAkB;AAMhD,UAAM,gBAAqC;AAAA,MACzC,UAAU;AAAA,MACV,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,eAAe;AAAA;AAAA,IACjB;AAEA,UAAM,iBAAsC;AAAA,MAC1C,UAAU;AAAA,MACV,OAAO;AAAA,MACP,YAAY,iBAAiB;AAAA,MAC7B,gBAAgB,SAAS,OAAO,QAAQ,SAAS,IAAI,QAAQ;AAAA,MAC7D,gBAAgB,GAAG,eAAe,KAAK;AAAA,MACvC,mBAAmB,GAAG,eAAe,QAAQ;AAAA,IAC/C;AAEA,UAAM,uBAA4C;AAAA,MAChD,gBAAgB,GAAG,cAAc,KAAK;AAAA,MACtC,mBAAmB,GAAG,cAAc,QAAQ;AAAA,MAC5C,SAAS;AAAA,IACX;AAGA,UAAM,UACJ,qBAAC,SAAI,OAAO,eAAe,MAAK,gBAE9B;AAAA,0BAAC,WAAM,yBAAyB,EAAE,QAAQ;AAAA;AAAA;AAAA;AAAA,UAItC,sBAAsB,aAAa,QAAQ,CAAC;AAAA,QAC9C,GAAG;AAAA,MAGL;AAAA,QAAC;AAAA;AAAA,UACC,WAAW;AAAA,UACX,OAAO;AAAA,UACP,SAAS;AAAA,UACT,eAAY;AAAA;AAAA,MACd;AAAA,MAGA;AAAA,QAAC;AAAA;AAAA,UACC,KAAK;AAAA,UACL,WAAW,+BAA+B,qBAAqB;AAAA,UAC/D,OAAO;AAAA,UACP,SAAS;AAAA,UACT,MAAK;AAAA,UACL,cAAW;AAAA,UACX,cAAY;AAAA,UACZ,oBAAkB;AAAA,UAClB,UAAU;AAAA,UAET;AAAA;AAAA,MACH;AAAA,OACF;AAIF,QAAI,aAAa;AAEf,aAAO;AAAA,IACT;AAGA,QAAI,cAAc,SAAS;AACzB,aAAOC,cAAa,SAAS,cAAc,OAA6B;AAAA,IAC1E;AAGA,WAAO;AAAA,EACT;AAKA,WAAS,sBAAsB,aAAsB,UAAiC;AAEpF,UAAM,WAAW;AAAA,MACf,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,IACT;AAEA,UAAM,aAAa;AAAA,MACjB,QAAQ;AAAA,MACR,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,MAAM;AAAA,MACN,OAAO;AAAA,IACT;AAEA,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAQY,SAAS,QAAQ,CAAC;AAAA,yBACd,WAAW,QAAQ,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqI7C;;;ACtfA,WAAS,uBAAuB,SAAuC;AACrE,UAAM,MAAM,OAAO,YAAY,WAAW,IAAI,KAAK,OAAO,EAAE,QAAQ,IAAI,QAAQ,QAAQ;AACxF,UAAM,MAAM,KAAK,IAAI;AACrB,UAAM,OAAO,KAAK,IAAI,GAAG,MAAM,GAAG;AAElC,WAAO;AAAA,MACL,OAAO;AAAA,MACP,MAAM,KAAK,MAAM,QAAQ,MAAO,KAAK,KAAK,GAAG;AAAA,MAC7C,OAAO,KAAK,MAAO,QAAQ,MAAO,KAAK,MAAO,EAAE;AAAA,MAChD,SAAS,KAAK,MAAO,QAAQ,MAAO,MAAO,EAAE;AAAA,MAC7C,SAAS,KAAK,MAAO,OAAO,MAAQ,EAAE;AAAA,IACxC;AAAA,EACF;AAEO,MAAM,iBAAgD,CAAC;AAAA,IAC5D;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACF,MAAM;AACJ,UAAM,CAAC,eAAe,gBAAgB,IAAI,SAAS,MAAM;AAEvD,YAAM,YAAY,OAAO,OAAO,QAAQ;AAExC,UAAI,cAAc,eAAe,OAAO,OAAO,YAAY;AACzD,eAAO,uBAAuB,OAAO,MAAM,UAAU;AAAA,MACvD,WAAW,cAAc,cAAc,OAAO,OAAO,uBAAuB;AAC1E,cAAM,UAAU,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,MAAM,wBAAwB,GAAI;AAC/E,eAAO,uBAAuB,OAAO;AAAA,MACvC,WAAW,OAAO,SAAS;AACzB,eAAO,uBAAuB,OAAO,OAAO;AAAA,MAC9C,WAAW,OAAO,mBAAmB;AACnC,cAAM,UAAU,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,oBAAoB,GAAI;AACrE,eAAO,uBAAuB,OAAO;AAAA,MACvC;AAEA,aAAO,EAAE,OAAO,GAAG,MAAM,GAAG,OAAO,GAAG,SAAS,GAAG,SAAS,EAAE;AAAA,IAC/D,CAAC;AAED,UAAM,CAAC,YAAY,aAAa,IAAI,SAAS,KAAK;AAClD,UAAM,CAAC,gBAAgB,iBAAiB,IAAI,SAAwB,IAAI;AACxE,UAAM,CAAC,iBAAiB,kBAAkB,IAAI,SAA+B,IAAI;AACjF,UAAM,CAAC,oBAAoB,qBAAqB,IAAI,SAAS,KAAK;AAClE,UAAM,CAAC,oBAAoB,qBAAqB,IAAI,SAAS,KAAK;AAClE,UAAM,CAAC,qBAAqB,sBAAsB,IAAI,SAAwB,IAAI;AAClF,UAAM,CAAC,eAAe,gBAAgB,IAAI,SAAwB,IAAI;AAKtE,cAAU,MAAM;AAEd,UAAK,OAAe,aAAa;AAC/B,YAAI,CAAC,OAAO,aAAa,OAAO,UAAU,SAAS,UAAU;AAC3D,cAAI,OAAO,WAAW,WAAW;AAC/B,8BAAkB,OAAO,UAAU,SAAS;AAAA,UAC9C;AAAA,QACF;AACA;AAAA,MACF;AAEA,UAAI,CAAC,OAAO,aAAa,OAAO,UAAU,SAAS,UAAU;AAE3D,YAAI,OAAO,WAAW,WAAW;AAC/B,4BAAkB,OAAO,UAAU,SAAS;AAAA,QAC9C;AACA;AAAA,MACF;AAGA,YAAM,iBAAiB,YAAY;AACjC,YAAI;AACF,gBAAM,SAAS,IAAI,gBAAgB;AACnC,cAAI,OAAO,WAAW,YAAY,QAAQ;AACxC,mBAAO,IAAI,cAAc,KAAK,UAAU,OAAO,UAAU,UAAU,CAAC;AAAA,UACtE;AACA,cAAI,OAAO,WAAW,YAAY,QAAQ;AACxC,mBAAO,IAAI,cAAc,KAAK,UAAU,OAAO,UAAU,UAAU,CAAC;AAAA,UACtE;AACA,cAAI,OAAO,WAAW,eAAe,QAAQ;AAC3C,mBAAO,IAAI,iBAAiB,KAAK,UAAU,OAAO,UAAU,aAAa,CAAC;AAAA,UAC5E;AAEA,gBAAM,WAAW,MAAM,MAAM,qCAAqC,OAAO,SAAS,CAAC,EAAE;AACrF,cAAI,SAAS,IAAI;AACf,kBAAM,OAAO,MAAM,SAAS,KAAK;AACjC,8BAAkB,KAAK,KAAK;AAAA,UAC9B;AAAA,QACF,SAAS,OAAO;AACd,kBAAQ,MAAM,+CAA+C,KAAK;AAAA,QACpE;AAAA,MACF;AAEA,qBAAe;AACf,YAAM,WAAW,YAAY,gBAAgB,GAAK;AAClD,aAAO,MAAM,cAAc,QAAQ;AAAA,IACrC,GAAG,CAAC,OAAO,SAAS,CAAC;AAGrB,cAAU,MAAM;AACd,UAAI,CAAC,OAAO,iBAAiB,WAAY;AAGzC,YAAM,YAAY,OAAO,OAAO,QAAQ;AACxC,UAAI,eAA8B;AAElC,UAAI,cAAc,eAAe,OAAO,OAAO,YAAY;AACzD,uBAAe,IAAI,KAAK,OAAO,MAAM,UAAU,EAAE,QAAQ;AAAA,MAC3D,WAAW,cAAc,cAAc,OAAO,OAAO,uBAAuB;AAC1E,uBAAe,KAAK,IAAI,IAAI,OAAO,MAAM,wBAAwB;AAAA,MACnE,WAAW,OAAO,SAAS;AACzB,uBAAe,IAAI,KAAK,OAAO,OAAO,EAAE,QAAQ;AAAA,MAClD,WAAW,OAAO,mBAAmB;AACnC,uBAAe,KAAK,IAAI,IAAI,OAAO,oBAAoB;AAAA,MACzD;AAEA,UAAI,CAAC,aAAc;AAEnB,YAAM,cAAc,MAAM;AACxB,cAAM,MAAM,KAAK,IAAI;AACrB,cAAM,OAAO,KAAK,IAAI,GAAG,eAAgB,GAAG;AAE5C,cAAM,UAAyB;AAAA,UAC7B,OAAO;AAAA,UACP,MAAM,KAAK,MAAM,QAAQ,MAAO,KAAK,KAAK,GAAG;AAAA,UAC7C,OAAO,KAAK,MAAO,QAAQ,MAAO,KAAK,MAAO,EAAE;AAAA,UAChD,SAAS,KAAK,MAAO,QAAQ,MAAO,MAAO,EAAE;AAAA,UAC7C,SAAS,KAAK,MAAO,OAAO,MAAQ,EAAE;AAAA,QACxC;AAEA,yBAAiB,OAAO;AAExB,YAAI,QAAQ,SAAS,GAAG;AACtB,wBAAc,IAAI;AAClB,cAAI,UAAU;AACZ,qBAAS;AAAA,UACX;AAEA,gBAAM,iBAAiB,OAAO,OAAO,YAAY;AACjD,cAAI,mBAAmB,eAAe,OAAO,gBAAgB,OAAO,kBAAkB;AACpF,uBAAW,MAAM,QAAQ,GAAG,OAAO,mBAAmB,MAAO,CAAC;AAAA,UAChE;AAAA,QACF;AAAA,MACF;AAGA,kBAAY;AACZ,YAAM,QAAQ,YAAY,aAAa,GAAI;AAE3C,aAAO,MAAM,cAAc,KAAK;AAAA,IAClC,GAAG;AAAA,MACD,OAAO;AAAA,MACP,OAAO,OAAO;AAAA,MACd,OAAO,OAAO;AAAA,MACd,OAAO,OAAO;AAAA,MACd,OAAO;AAAA,MACP,OAAO;AAAA,MACP;AAAA,MACA;AAAA,MACA;AAAA,IACF,CAAC;AAGD,cAAU,MAAM;AAEd,UAAI,CAAC,OAAO,SAAS,WAAW,CAAC,OAAO,SAAS,SAAS;AACxD,2BAAmB,IAAI;AACvB;AAAA,MACF;AAEA,YAAM,iBAAiB,IAAI,KAAK,KAAK,IAAI,IAAI,OAAO,QAAQ,UAAU,KAAK,GAAI;AAE/E,YAAM,oBAAoB,MAAM;AAC9B,cAAM,YAAY,uBAAuB,cAAc;AACvD,2BAAmB,SAAS;AAE5B,YAAI,UAAU,SAAS,GAAG;AACxB,6BAAmB,IAAI;AAAA,QACzB;AAAA,MACF;AAEA,wBAAkB;AAClB,YAAM,WAAW,YAAY,mBAAmB,GAAI;AACpD,aAAO,MAAM,cAAc,QAAQ;AAAA,IACrC,GAAG,CAAC,OAAO,OAAO,CAAC;AAEnB,UAAM,YAAa,OAAe;AAClC,UAAM,WAAY,OAAO,YAAa,OAAe;AAErD,UAAM,cAAc,YAAY,OAAO,CAAC,CAAC,UAAU;AAEnD,UAAM,YAAY,mBAAmB,QAAQ,kBAAkB;AAC/D,UAAM,qBACJ,aAAa,OAAO,WAAW,oBAAoB;AAErD,UAAM,uBAAuB,MAAM;AACjC,YAAM,QAAQ,OAAO;AACrB,UAAI,OAAO,UAAU,YAAY,OAAO,SAAS,KAAK,GAAG;AACvD,eAAO,KAAK,MAAM,QAAQ,GAAG;AAAA,MAC/B;AACA,aAAO;AAAA,IACT;AAEA,UAAM,cAAc,MAAM;AACxB,UAAI,cAAc,oBAAoB;AACpC,eAAO,OAAO,cAAc,OAAO,WAAW;AAAA,MAChD;AACA,UAAI,oBAAoB;AACtB,eAAO;AAAA,MACT;AACA,UAAI,eAAe,CAAC,oBAAoB;AACtC,eAAO,OAAO,cAAc,OAAO,WAAW;AAAA,MAChD;AACA,aAAO,OAAO,cAAc,OAAO,WAAW;AAAA,IAChD;AAEA,UAAM,iBAAiB,YAAY;AACjC,YAAM,mBACJ,eACA,CAAC,sBACD,CAAC,cACD,CAAC;AAEH,UAAI,kBAAkB;AACpB,yBAAiB,IAAI;AACrB,8BAAsB,IAAI;AAC1B,YAAI;AACF,cAAI,eAAe;AACjB,kBAAM,oBAAoB,qBAAqB;AAC/C,kBAAM,SAAS,MAAM;AAAA,cACnB,oBAAoB,EAAE,kBAAkB,IAAI;AAAA,YAC9C;AACA,gBAAI,QAAQ,MAAM;AAChB,qCAAuB,OAAO,IAAI;AAAA,YACpC;AACA,kCAAsB,IAAI;AAAA,UAC5B;AAAA,QACF,SAAS,OAAO;AACd,kBAAQ,MAAM,8CAA8C,KAAK;AACjE,2BAAiB,gEAAgE;AAAA,QACnF,UAAE;AACA,gCAAsB,KAAK;AAAA,QAC7B;AAGA;AAAA,MACF;AAGA,UAAI,WAAW;AACb;AAAA,MACF;AAEA,UAAI,YAAY;AACd,mBAAW;AAAA,MACb;AAEA,UAAI,OAAO,QAAQ;AACjB,YAAI,OAAO,iBAAiB;AAC1B,iBAAO,KAAK,OAAO,QAAQ,UAAU,qBAAqB;AAAA,QAC5D,OAAO;AACL,iBAAO,SAAS,OAAO,OAAO;AAAA,QAChC;AAAA,MACF;AAAA,IACF;AAEA,QAAI,CAAC,UAAW,QAAO;AAEvB,QAAI,aAAa,OAAO,WAAW,oBAAoB,QAAQ;AAC7D,aAAO;AAAA,IACT;AAGA,UAAM,qBAAqB,MAAM;AAC/B,YAAM,KAAK,OAAO;AAElB,UAAI,IAAI,OAAO,QAAQ;AAErB,cAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,MAAW;AACrC,gBAAM,aAAa,EAAE,iBAAiB,KAAK,QAAQ,CAAC;AACpD,cAAI,EAAE,SAAS,SAAS,gBAAiB,QAAO,IAAI,SAAS;AAC7D,iBAAO,IAAI,SAAS,QAAQ,EAAE,SAAS,KAAK,GAAG,EAAE,SAAS,SAAS,eAAe,MAAM,GAAG;AAAA,QAC7F,CAAC;AACD,eAAO,0BAA0B,MAAM,KAAK,IAAI,CAAC;AAAA,MACnD;AAEA,UAAI,IAAI,MAAM;AACZ,cAAM,MAAM,GAAG,KAAK,IAAI;AACxB,cAAM,MAAM,GAAG,KAAK,IAAI;AACxB,YAAI,GAAG,KAAK,IAAI,SAAS,SAAS,gBAAgB;AAChD,iBAAO,OAAO,GAAG,QAAQ,GAAG;AAAA,QAC9B;AACA,eAAO,OAAO,GAAG,QAAQ,GAAG,OAAO,GAAG,KAAK,IAAI,SAAS,KAAK;AAAA,MAC/D;AAEA,UAAI,IAAI,UAAU;AAChB,cAAM,MAAM,GAAG,SAAS,mBAAmB,UAAU,GAAG,SAAS,mBAAmB,KAAK,QAAQ,CAAC,CAAC,KAAK;AACxG,eAAO,2BAA2B,GAAG,GAAG,KAAK;AAAA,MAC/C;AAGA,UAAI,OAAO,oBAAoB;AAC7B,eAAO,GAAG,OAAO,kBAAkB;AAAA,MACrC;AAEA,aAAO;AAAA,IACT;AAGA,UAAM,YAAY,OAAO,aAAa;AACtC,UAAM,WAAW,cAAc,YAAY,UAC1B,cAAc,SAAS,UACvB,cAAc,SAAS,QAAQ;AAEhD,UAAM,UAAU,cAAc,YAAY,gBAC1B,cAAc,UAAU,cAAc,SAAS,SAAS;AAExE,UAAM,eAAe,cAAc,YAAY,SAC1B,cAAc,UAAU,cAAc,SAAS,SAAS;AAE7E,UAAM,eAAe,cAAc,YAAY,SAC1B,cAAc,UAAU,cAAc,SAAS,UAAU;AAE9E,UAAM,kBAAkB,mBAAmB;AAG3C,UAAM,4BAA4B,OAAO,cAAc,kBAAkB;AAEzE,UAAM,gBAAgB,6BACA,OAAO,WAAW,iBAClB,mBAAmB,QACnB,mBAAmB,OAAO,WAAW,iBAAiB;AAE5E,UAAM,cAAc,OAAO,eAAe;AAG1C,QAAI,gBAAgB,UAAU;AAC5B,YAAM,iBAAiB,OAAO,aAAa,WAAW,WAAW;AAEjE,aACE,qBAAAC,WAAA,EACE;AAAA,4BAAC,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BA8BU,OAAO,eAAe,SAAS;AAAA,qBACpC,OAAO,mBAAmB,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WA6I9C;AAAA,QAEF;AAAA,UAAC;AAAA;AAAA,YACC,WAAU;AAAA,YACV,OAAO;AAAA,cACL,UAAU;AAAA,cACV,CAAC,cAAc,GAAG;AAAA,cAClB,MAAM;AAAA,cACN,OAAO;AAAA,cACP,QAAQ;AAAA,cACR,YAAY,OAAO,mBAAmB;AAAA,cACtC,OAAO,OAAO,aAAa;AAAA,cAC3B,WACE,mBAAmB,WACf,mCACA;AAAA,YACR;AAAA,YAEA,+BAAC,SAAI,WAAU,2BACZ;AAAA,qBAAO,oBAAoB,SAC1B;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS;AAAA,kBACT,cAAW;AAAA,kBACZ;AAAA;AAAA,cAED;AAAA,cAGF,qBAAC,SAAI,WAAU,0BACb;AAAA,oCAAC,SAAI,WAAU,2BAA0B,gCAEzC;AAAA,gBACA,oBAAC,QAAG,WAAU,8BACX,iBAAO,YAAY,eACtB;AAAA,gBACC,OAAO,eACN,oBAAC,OAAE,WAAU,iCAAiC,iBAAO,aAAY;AAAA,iBAEjE,uBAAuB,oBACvB,oBAAC,SAAI,WAAU,8BACZ,gCACC,qBAAAA,WAAA,EAAE;AAAA;AAAA,kBACS,oBAAC,YAAQ,+BAAoB;AAAA,kBAAS;AAAA,mBACjD,IAEA,iBAEJ;AAAA,iBAEJ;AAAA,cAEA,oBAAC,SAAI,WAAU,4BACZ,uBAAa,OAAO,WAAW,oBAAoB,cAClD,oBAAC,SAAI,WAAU,6BACZ,iBAAO,WAAW,kBAAkB,4CACvC,IACE,aACF,oBAAC,SAAI,WAAU,6BACZ,iBAAO,OAAO,kBAAkB,cACnC,IAEA,qBAAAA,WAAA,EACG;AAAA,uBAAO,iBAAiB,cAAc,QAAQ,KAC7C,qBAAC,SAAI,WAAU,2BACZ;AAAA,gCAAc,OAAO,KACpB,qBAAAA,WAAA,EACE;AAAA;AAAA,sBAAC;AAAA;AAAA,wBACC,WAAU;AAAA,wBACV,OAAO;AAAA,0BACL,YAAY,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO;AAAA,0BAC7D,OAAO,OAAO,eAAe;AAAA,wBAC/B;AAAA,wBAEA;AAAA,8CAAC,SAAI,WAAU,iCACZ,iBAAO,cAAc,IAAI,EAAE,SAAS,GAAG,GAAG,GAC7C;AAAA,0BACA,oBAAC,SAAI,WAAU,iCAAgC,kBAAI;AAAA;AAAA;AAAA,oBACrD;AAAA,oBACA;AAAA,sBAAC;AAAA;AAAA,wBACC,WAAU;AAAA,wBACX;AAAA;AAAA,oBAED;AAAA,qBACF;AAAA,kBAGF;AAAA,oBAAC;AAAA;AAAA,sBACC,WAAU;AAAA,sBACV,OAAO;AAAA,wBACL,YAAY,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO;AAAA,wBAC7D,OAAO,OAAO,eAAe;AAAA,sBAC/B;AAAA,sBAEA;AAAA,4CAAC,SAAI,WAAU,iCACZ,iBAAO,cAAc,KAAK,EAAE,SAAS,GAAG,GAAG,GAC9C;AAAA,wBACA,oBAAC,SAAI,WAAU,iCAAgC,mBAAK;AAAA;AAAA;AAAA,kBACtD;AAAA,kBAEA,oBAAC,UAAK,WAAU,qCAAoC,eAAC;AAAA,kBAErD;AAAA,oBAAC;AAAA;AAAA,sBACC,WAAU;AAAA,sBACV,OAAO;AAAA,wBACL,YAAY,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO;AAAA,wBAC7D,OAAO,OAAO,eAAe;AAAA,sBAC/B;AAAA,sBAEA;AAAA,4CAAC,SAAI,WAAU,iCACZ,iBAAO,cAAc,OAAO,EAAE,SAAS,GAAG,GAAG,GAChD;AAAA,wBACA,oBAAC,SAAI,WAAU,iCAAgC,kBAAI;AAAA;AAAA;AAAA,kBACrD;AAAA,kBAEA,oBAAC,UAAK,WAAU,qCAAoC,eAAC;AAAA,kBAErD;AAAA,oBAAC;AAAA;AAAA,sBACC,WAAU;AAAA,sBACV,OAAO;AAAA,wBACL,YAAY,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO;AAAA,wBAC7D,OAAO,OAAO,eAAe;AAAA,sBAC/B;AAAA,sBAEA;AAAA,4CAAC,SAAI,WAAU,iCACZ,iBAAO,cAAc,OAAO,EAAE,SAAS,GAAG,GAAG,GAChD;AAAA,wBACA,oBAAC,SAAI,WAAU,iCAAgC,kBAAI;AAAA;AAAA;AAAA,kBACrD;AAAA,mBACF;AAAA,gBAGD,iBAAiB,mBAAmB,QACnC,qBAAC,SAAI,WAAU,2BAA0B;AAAA;AAAA,kBAC/B;AAAA,kBAAe;AAAA,mBACzB;AAAA,gBAGD,mBAAmB,gBAAgB,QAAQ,KAC1C,qBAAC,SAAI,WAAU,iCACX;AAAA,0BAAO,SAAS,SAAS,yBAAyB;AAAA,kBACnD,gBAAgB;AAAA,kBAAQ;AAAA,kBAAE,OAAO,gBAAgB,OAAO,EAAE,SAAS,GAAG,GAAG;AAAA,mBAC5E;AAAA,iBAEJ,GAEJ;AAAA,cAEA,oBAAC,SAAI,WAAU,2BACX,kBAAO,cAAc,OAAO,YAC5B;AAAA,gBAAC;AAAA;AAAA,kBACC,WAAU;AAAA,kBACV,SAAS;AAAA,kBACT,UACE,cACA,sBACA;AAAA,kBAEF,OAAO;AAAA,oBACL,YAAY,OAAO,eAAe,OAAO,eAAe;AAAA,oBACxD,OAAO,OAAO,mBAAmB,OAAO,aAAa;AAAA,oBACrD,cAAc,OAAO,OAAO,iBAAiB,WACzC,GAAG,OAAO,YAAY,OACrB,OAAO,gBAAgB;AAAA,kBAC9B;AAAA,kBAEC,sBAAY;AAAA;AAAA,cACf,GAEJ;AAAA,eACF;AAAA;AAAA,QACF;AAAA,SACF;AAAA,IAEJ;AAGA,WACE;AAAA,MAAC;AAAA;AAAA,QACC;AAAA,QACA;AAAA,QACA,UAAU;AAAA,UACR,OAAO,OAAO,gBAAgB;AAAA,UAC9B,SAAS,OAAO,kBAAkB;AAAA,UAClC,MAAM;AAAA,QACR;AAAA,QACA,WAAW;AAAA,UACT,MAAM,OAAO,aAAa;AAAA,QAC5B;AAAA,QACA,UAAU,OAAO,YAAY;AAAA,QAC7B,eAAe,OAAO,kBAAkB;AAAA,QACxC,sBAAsB,OAAO,wBAAwB;AAAA,QACrD,aAAa,OAAO;AAAA,QACpB,WAAW,OAAO,aAAa,OAAO,YAAY;AAAA,QAClD,iBAAiB,OAAO;AAAA,QAExB;AAAA,8BAAC,WAAO;AAAA;AAAA;AAAA;AAAA,uBAIS,QAAQ;AAAA,2BACJ,OAAO,OAAO,iBAAiB,WAAW,OAAO,eAAe,WAAW,OAAO,gBAAgB,IAAI,CAAC;AAAA;AAAA;AAAA,wBAG1G,OAAO,mBAAmB,SAAS;AAAA,mBACxC,OAAO,aAAa,SAAS;AAAA,yBACvB,OAAO,cAAc,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAcpC,OAAO,oBAAoB,OAAO,aAAa,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAQtD,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAaJ,OAAO,eAAe,SAAS;AAAA,mBACpC,OAAO,mBAAmB,SAAS;AAAA;AAAA;AAAA;AAAA,uBAI/B,YAAY;AAAA;AAAA;AAAA;AAAA,mBAIhB,OAAO,aAAa,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAO7B,OAAO,oBAAoB,OAAO,aAAa,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBASnD,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO,wBAAwB;AAAA,mBAC9E,OAAO,eAAe,SAAS;AAAA,8BACpB,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO,yBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBASrF,OAAO,oBAAoB,OAAO,aAAa,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAkBnD,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO,wBAAwB;AAAA,mBAC9E,OAAO,eAAe,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBA0B1B,OAAO,cAAc,GAAG,OAAO,WAAW,OAAO,wBAAwB;AAAA,mBAC9E,OAAO,eAAe,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAO1B,OAAO,eAAe,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAyB/B,OAAO,eAAe,OAAO,eAAe,SAAS;AAAA,mBAC1D,OAAO,mBAAmB,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAoBnC,OAAO,aAAa,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA2CxC;AAAA,UAEF,qBAAC,SAAI,WAAU,wBACb;AAAA;AAAA,cAAC;AAAA;AAAA,gBACC,SAAS;AAAA,gBACT,WAAU;AAAA,gBACV,cAAW;AAAA,gBAEX,+BAAC,SAAI,OAAM,MAAK,QAAO,MAAK,SAAQ,aAAY,MAAK,QAAO,QAAO,gBAAe,aAAY,KAC5F;AAAA,sCAAC,UAAK,IAAG,MAAK,IAAG,KAAI,IAAG,KAAI,IAAG,MAAK;AAAA,kBACpC,oBAAC,UAAK,IAAG,KAAI,IAAG,KAAI,IAAG,MAAK,IAAG,MAAK;AAAA,mBACtC;AAAA;AAAA,YACF;AAAA,YAEC,aAAa,OAAO,WAAW,oBAAoB,cAClD,qBAAC,SAAI,WAAU,uBACb;AAAA,kCAAC,QAAG,OAAO,EAAE,cAAc,UAAU,UAAU,UAAU,YAAY,MAAM,GAAG,4BAE9E;AAAA,cACA,oBAAC,OAAE,OAAO,EAAE,SAAS,IAAI,GACtB,iBAAO,UAAU,kBAAkB,4CACtC;AAAA,eACF,IACE,aACF,qBAAC,SAAI,WAAU,sBACb;AAAA,kCAAC,QAAG,OAAO,EAAE,cAAc,UAAU,UAAU,UAAU,YAAY,MAAM,GAAG,wBAE9E;AAAA,cACA,oBAAC,OAAE,OAAO,EAAE,SAAS,IAAI,GACtB,iBAAO,OAAO,kBAAkB,gEACnC;AAAA,eACF,IAEA,qBAAC,SAAI,WAAU,sBACb;AAAA,kCAAC,SAAI,WAAU,oBAAmB,0BAElC;AAAA,cAEA,oBAAC,QAAG,WAAU,uBACX,iBAAO,YAAY,eACtB;AAAA,cAEA,oBAAC,OAAE,WAAU,yBACV,iBAAO,eAAe,wCACzB;AAAA,eAEE,uBAAuB,oBACvB,oBAAC,SAAI,WAAU,+BACZ,gCACC,qBAAAA,WAAA,EAAE;AAAA;AAAA,gBACS,oBAAC,YAAQ,+BAAoB;AAAA,gBAAS;AAAA,iBACjD,IAEA,iBAEJ;AAAA,cAGD,OAAO,kBACN,oBAAC,SAAI,WAAU,sBACZ,iBAAO,gBACV;AAAA,cAGD,OAAO,iBAAiB,cAAc,QAAQ,KAC7C,qBAAC,SAAI,WAAU,oBACZ;AAAA,8BAAc,OAAO,KACpB,qBAAC,SAAI,WAAU,yBACb;AAAA,sCAAC,SAAI,WAAU,0BACZ,iBAAO,cAAc,IAAI,EAAE,SAAS,GAAG,GAAG,GAC7C;AAAA,kBACA,oBAAC,SAAI,WAAU,0BAAyB,kBAAI;AAAA,mBAC9C;AAAA,gBAEF,qBAAC,SAAI,WAAU,yBACb;AAAA,sCAAC,SAAI,WAAU,0BACZ,iBAAO,cAAc,KAAK,EAAE,SAAS,GAAG,GAAG,GAC9C;AAAA,kBACA,oBAAC,SAAI,WAAU,0BAAyB,mBAAK;AAAA,mBAC/C;AAAA,gBACA,qBAAC,SAAI,WAAU,yBACb;AAAA,sCAAC,SAAI,WAAU,0BACZ,iBAAO,cAAc,OAAO,EAAE,SAAS,GAAG,GAAG,GAChD;AAAA,kBACA,oBAAC,SAAI,WAAU,0BAAyB,kBAAI;AAAA,mBAC9C;AAAA,gBACA,qBAAC,SAAI,WAAU,yBACb;AAAA,sCAAC,SAAI,WAAU,0BACZ,iBAAO,cAAc,OAAO,EAAE,SAAS,GAAG,GAAG,GAChD;AAAA,kBACA,oBAAC,SAAI,WAAU,0BAAyB,kBAAI;AAAA,mBAC9C;AAAA,iBACF;AAAA,cAGD,iBACC,qBAAC,SAAI,WAAU,wBACb;AAAA,oCAAC,SAAI,WAAU,4BAA2B;AAAA,gBAAE;AAAA,gBACtC;AAAA,gBAAe;AAAA,iBACvB;AAAA,cAGD,mBAAmB,gBAAgB,QAAQ,KAC1C,qBAAC,SAAI,WAAU,0BACZ;AAAA,uBAAO,SAAS,SAAS;AAAA,gBAAsB;AAAA,gBAAE,gBAAgB;AAAA,gBAAQ;AAAA,gBAAE,OAAO,gBAAgB,OAAO,EAAE,SAAS,GAAG,GAAG;AAAA,gBAC1H,OAAO,SAAS,cACf,oBAAC,SAAI,OAAO,EAAE,UAAU,WAAW,WAAW,WAAW,SAAS,IAAI,GACnE,iBAAO,QAAQ,YAClB;AAAA,iBAEJ;AAAA,cAGF;AAAA,gBAAC;AAAA;AAAA,kBACC,SAAS;AAAA,kBACT,WAAU;AAAA,kBACV,UACE,cACA,sBACA;AAAA,kBAGD,sBAAY;AAAA;AAAA,cACf;AAAA,cAEA;AAAA,gBAAC;AAAA;AAAA,kBACC,MAAK;AAAA,kBACL,SAAS;AAAA,kBACT,WAAU;AAAA,kBAET,iBAAO,gBAAgB;AAAA;AAAA,cAC1B;AAAA,eACF;AAAA,aAEJ;AAAA;AAAA;AAAA,IACF;AAAA,EAEJ;;;ACrlCA,GAAC,SAAS,WAAW;AACnB,UAAM,IAAI;AACV,MAAE,yBAAyB,EAAE,0BAA0B,CAAC;AACxD,MAAE,uBAAuB,YAAY,IAAI;AAEzC,QAAI,OAAO,EAAE,SAAS,UAAU,YAAY;AAC1C,cAAQ,MAAM,6CAA6C;AAAA,IAC7D;AAAA,EACF,GAAG;",
  "names": ["render", "createPortal", "h", "Fragment", "createPortal", "Fragment"]
}
