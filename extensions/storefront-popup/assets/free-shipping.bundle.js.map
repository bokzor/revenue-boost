{
  "version": 3,
  "sources": ["global-preact:global-preact:react", "../../../app/domains/storefront/popups-new/utils.ts", "global-preact:global-preact:preact/jsx-runtime", "../../../app/domains/storefront/popups-new/FreeShippingPopup.tsx", "../../storefront-src/bundles/free-shipping.ts"],
  "sourcesContent": ["\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const { h, Component, Fragment, render, createPortal } = window.RevenueBoostPreact;\n                const { useState, useEffect, useCallback, useRef, useMemo } = window.RevenueBoostPreact.hooks;\n                export { h, Component, Fragment, render, createPortal, useState, useEffect, useCallback, useRef, useMemo };\n                export default { h, Component, Fragment, render, createPortal, useState, useEffect, useCallback, useRef, useMemo };\n              ", "/**\n * Utility Functions for Storefront Popup Components\n * \n * Shared helper functions used across popup components\n */\n\nimport type { PopupSize, PopupPosition, PopupAnimation } from './types';\n\n/**\n * Get size dimensions based on size prop\n * In preview mode, use smaller percentages to show relative size on screen\n */\nexport function getSizeDimensions(size: PopupSize, previewMode?: boolean): { width: string; maxWidth: string } {\n  if (previewMode) {\n    // In preview mode, use percentages to show relative screen coverage\n    switch (size) {\n      case 'small':\n        return { width: '50%', maxWidth: '400px' };\n      case 'medium':\n        return { width: '65%', maxWidth: '600px' };\n      case 'large':\n        return { width: '80%', maxWidth: '900px' };\n      default:\n        return { width: '65%', maxWidth: '600px' };\n    }\n  }\n\n  // Production mode - use full responsive widths\n  switch (size) {\n    case 'small':\n      return { width: '90%', maxWidth: '400px' };\n    case 'medium':\n      return { width: '90%', maxWidth: '600px' };\n    case 'large':\n      return { width: '90%', maxWidth: '900px' };\n    default:\n      return { width: '90%', maxWidth: '600px' };\n  }\n}\n\n/**\n * Get position styles based on position prop\n */\nexport function getPositionStyles(position: PopupPosition): React.CSSProperties {\n  const baseStyles: React.CSSProperties = {\n    position: 'fixed',\n    zIndex: 10000,\n  };\n\n  switch (position) {\n    case 'center':\n      return {\n        ...baseStyles,\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      };\n    case 'top':\n      return {\n        ...baseStyles,\n        top: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n      };\n    case 'bottom':\n      return {\n        ...baseStyles,\n        bottom: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n      };\n    case 'left':\n      return {\n        ...baseStyles,\n        top: '50%',\n        left: '20px',\n        transform: 'translateY(-50%)',\n      };\n    case 'right':\n      return {\n        ...baseStyles,\n        top: '50%',\n        right: '20px',\n        transform: 'translateY(-50%)',\n      };\n    default:\n      return {\n        ...baseStyles,\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      };\n  }\n}\n\n/**\n * Get animation class name based on animation type\n */\nexport function getAnimationClass(animation: PopupAnimation, isExiting: boolean = false): string {\n  if (animation === 'none') return '';\n  \n  const prefix = isExiting ? 'popup-exit' : 'popup-enter';\n  return `${prefix}-${animation}`;\n}\n\n/**\n * Get animation keyframes CSS\n */\nexport function getAnimationKeyframes(): string {\n  return `\n    @keyframes popup-enter-fade {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n    \n    @keyframes popup-exit-fade {\n      from { opacity: 1; }\n      to { opacity: 0; }\n    }\n    \n    @keyframes popup-enter-slide {\n      from { \n        opacity: 0;\n        transform: translate(-50%, -60%);\n      }\n      to { \n        opacity: 1;\n        transform: translate(-50%, -50%);\n      }\n    }\n    \n    @keyframes popup-exit-slide {\n      from { \n        opacity: 1;\n        transform: translate(-50%, -50%);\n      }\n      to { \n        opacity: 0;\n        transform: translate(-50%, -60%);\n      }\n    }\n    \n    @keyframes popup-enter-bounce {\n      0% { \n        opacity: 0;\n        transform: translate(-50%, -50%) scale(0.3);\n      }\n      50% { \n        transform: translate(-50%, -50%) scale(1.05);\n      }\n      70% { \n        transform: translate(-50%, -50%) scale(0.9);\n      }\n      100% { \n        opacity: 1;\n        transform: translate(-50%, -50%) scale(1);\n      }\n    }\n    \n    @keyframes popup-exit-bounce {\n      from { \n        opacity: 1;\n        transform: translate(-50%, -50%) scale(1);\n      }\n      to { \n        opacity: 0;\n        transform: translate(-50%, -50%) scale(0.3);\n      }\n    }\n    \n    .popup-enter-fade { animation: popup-enter-fade 0.3s ease-out; }\n    .popup-exit-fade { animation: popup-exit-fade 0.3s ease-in; }\n    .popup-enter-slide { animation: popup-enter-slide 0.3s ease-out; }\n    .popup-exit-slide { animation: popup-exit-slide 0.3s ease-in; }\n    .popup-enter-bounce { animation: popup-enter-bounce 0.5s ease-out; }\n    .popup-exit-bounce { animation: popup-exit-bounce 0.3s ease-in; }\n    \n    @media (prefers-reduced-motion: reduce) {\n      .popup-enter-fade,\n      .popup-enter-slide,\n      .popup-enter-bounce,\n      .popup-exit-fade,\n      .popup-exit-slide,\n      .popup-exit-bounce {\n        animation: none !important;\n      }\n    }\n  `;\n}\n\n/**\n * Validate email address\n */\nexport function validateEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Format currency\n */\nexport function formatCurrency(amount: number | string, currency: string = 'USD'): string {\n  const numAmount = typeof amount === 'string' ? parseFloat(amount) : amount;\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency,\n  }).format(numAmount);\n}\n\n/**\n * Copy text to clipboard\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  try {\n    if (navigator.clipboard && navigator.clipboard.writeText) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    } else {\n      // Fallback for older browsers\n      const textArea = document.createElement('textarea');\n      textArea.value = text;\n      textArea.style.position = 'fixed';\n      textArea.style.left = '-999999px';\n      document.body.appendChild(textArea);\n      textArea.select();\n      const success = document.execCommand('copy');\n      document.body.removeChild(textArea);\n      return success;\n    }\n  } catch (error) {\n    console.error('Failed to copy to clipboard:', error);\n    return false;\n  }\n}\n\n/**\n * Calculate time remaining from a date\n */\nexport function calculateTimeRemaining(endDate: Date | string): {\n  total: number;\n  days: number;\n  hours: number;\n  minutes: number;\n  seconds: number;\n} {\n  const end = typeof endDate === 'string' ? new Date(endDate) : endDate;\n  const now = new Date();\n  const total = end.getTime() - now.getTime();\n\n  if (total <= 0) {\n    return { total: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };\n  }\n\n  return {\n    total,\n    days: Math.floor(total / (1000 * 60 * 60 * 24)),\n    hours: Math.floor((total / (1000 * 60 * 60)) % 24),\n    minutes: Math.floor((total / (1000 * 60)) % 60),\n    seconds: Math.floor((total / 1000) % 60),\n  };\n}\n\n/**\n * Format time remaining as string\n */\nexport function formatTimeRemaining(time: ReturnType<typeof calculateTimeRemaining>): string {\n  if (time.total <= 0) return '00:00:00';\n  \n  if (time.days > 0) {\n    return `${time.days}d ${time.hours}h ${time.minutes}m`;\n  }\n  \n  const hours = String(time.hours).padStart(2, '0');\n  const minutes = String(time.minutes).padStart(2, '0');\n  const seconds = String(time.seconds).padStart(2, '0');\n  \n  return `${hours}:${minutes}:${seconds}`;\n}\n\n/**\n * Check if device prefers reduced motion\n */\nexport function prefersReducedMotion(): boolean {\n  if (typeof window === 'undefined') return false;\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n\n/**\n * Debounce function\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null;\n  \n  return function executedFunction(...args: Parameters<T>) {\n    const later = () => {\n      timeout = null;\n      func(...args);\n    };\n    \n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n", "\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const options = window.RevenueBoostPreact.options || {};\n                const h = window.RevenueBoostPreact.h;\n\n                // JSX runtime factory function\n                let vnodeId = 0;\n                export function jsx(type, props, key, isStaticChildren, __source, __self) {\n                  if (!props) props = {};\n                  let normalizedProps = props;\n                  let ref;\n\n                  if ('ref' in props) {\n                    normalizedProps = {};\n                    for (let i in props) {\n                      if (i === 'ref') ref = props[i];\n                      else normalizedProps[i] = props[i];\n                    }\n                  }\n\n                  const vnode = {\n                    type,\n                    props: normalizedProps,\n                    key: key !== undefined ? key : null,\n                    ref: ref !== undefined ? ref : null,\n                    __k: null,\n                    __: null,\n                    __b: 0,\n                    __e: null,\n                    __c: null,\n                    constructor: undefined,\n                    __v: --vnodeId,\n                    __i: -1,\n                    __u: 0,\n                    __source,\n                    __self\n                  };\n\n                  if (typeof type === 'function' && (ref = type.defaultProps)) {\n                    for (let i in ref) {\n                      if (normalizedProps[i] === undefined) {\n                        normalizedProps[i] = ref[i];\n                      }\n                    }\n                  }\n\n                  if (options.vnode) options.vnode(vnode);\n                  return vnode;\n                }\n\n                export const jsxs = jsx;\n                export const jsxDEV = jsx;\n                export const createElement = h;\n                export const Fragment = window.RevenueBoostPreact.Fragment;\n              ", "/**\n * FreeShippingPopup Component\n *\n * Free shipping progress bar featuring:\n * - 4 states: empty, progress, near-miss, unlocked\n * - Dynamic icons and messaging per state\n * - Progress bar with state-based styling\n * - Celebration animation when unlocked\n * - Top/bottom positioning\n * - Dismissible with close button\n */\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport type { PopupDesignConfig } from './types';\nimport type { FreeShippingContent } from '~/domains/campaigns/types/campaign';\nimport { debounce } from './utils';\n\nexport type ShippingBarState = \"empty\" | \"progress\" | \"near-miss\" | \"unlocked\";\n\n/**\n * FreeShippingConfig - Extends both design config AND campaign content type\n * All content fields come from FreeShippingContent\n * All design fields come from PopupDesignConfig\n */\nexport interface FreeShippingConfig extends PopupDesignConfig, FreeShippingContent {\n  // Storefront-specific fields only\n  currentCartTotal?: number;\n}\n\nexport interface FreeShippingPopupProps {\n  config: FreeShippingConfig;\n  isVisible: boolean;\n  onClose: () => void;\n  cartTotal?: number;\n}\n\nexport const FreeShippingPopup: React.FC<FreeShippingPopupProps> = ({\n  config,\n  isVisible,\n  onClose,\n  cartTotal: propCartTotal,\n}) => {\n  const [cartTotal, setCartTotal] = useState<number>(propCartTotal ?? config.currentCartTotal ?? 0);\n  const threshold = config.threshold;\n  const barPosition = config.barPosition || 'top'; // Use barPosition instead of position\n  const nearMissThreshold = config.nearMissThreshold ?? 10;\n  const currency = config.currency || '$';\n  const dismissible = config.dismissible ?? true;\n  const celebrateOnUnlock = config.celebrateOnUnlock ?? true;\n  const showIcon = config.showIcon ?? true;\n  const animationDuration = config.animationDuration ?? 500;\n\n  const [internalDismissed, setInternalDismissed] = useState(false);\n  const [celebrating, setCelebrating] = useState(false);\n  const [isEntering, setIsEntering] = useState(false);\n  const [isExiting, setIsExiting] = useState(false);\n  const prevUnlockedRef = useRef(false);\n  const currencyCodeRef = useRef<string | undefined>(undefined);\n  const bannerRef = useRef<HTMLDivElement>(null);\n\n  const remaining = Math.max(0, threshold - cartTotal);\n  const progress = Math.min(1, Math.max(0, cartTotal / threshold));\n\n  const state: ShippingBarState =\n    cartTotal === 0\n      ? \"empty\"\n      : remaining === 0\n        ? \"unlocked\"\n        : remaining <= nearMissThreshold\n          ? \"near-miss\"\n          : \"progress\";\n\n  // Handle close with exit animation\n  const handleClose = () => {\n    if (!dismissible) return;\n\n    setIsExiting(true);\n    setTimeout(() => {\n      setInternalDismissed(true);\n      onClose();\n      setIsExiting(false);\n    }, 300); // Match animation duration\n  };\n\n  const formatCurrency = (value: number) => {\n    const code = currencyCodeRef.current;\n    if (code && /^[A-Z]{3}$/.test(code)) {\n      try {\n        return new Intl.NumberFormat('en-US', { style: 'currency', currency: code }).format(value);\n      } catch {\n        // Fallback below\n      }\n    }\n    return `${currency}${value.toFixed(2)}`;\n  };\n\n  // Handle enter animation on mount\n  useEffect(() => {\n    if (isVisible && !internalDismissed) {\n      setIsEntering(true);\n      const timer = setTimeout(() => setIsEntering(false), 300);\n      return () => clearTimeout(timer);\n    }\n  }, [isVisible, internalDismissed]);\n\n  // Add body padding to prevent content overlap\n  useEffect(() => {\n    if (!isVisible || internalDismissed || config.previewMode) return;\n\n    const updateBodyPadding = () => {\n      if (!bannerRef.current) return;\n\n      const height = bannerRef.current.offsetHeight;\n      if (barPosition === 'top') {\n        document.body.style.paddingTop = `${height}px`;\n      } else {\n        document.body.style.paddingBottom = `${height}px`;\n      }\n    };\n\n    // Update padding after animation completes\n    const timer = setTimeout(updateBodyPadding, 350);\n\n    return () => {\n      clearTimeout(timer);\n      document.body.style.paddingTop = '';\n      document.body.style.paddingBottom = '';\n    };\n  }, [isVisible, internalDismissed, barPosition, config.previewMode]);\n\n  // Read currency ISO from app embed if available\n  useEffect(() => {\n    try {\n      const w: any = window as any;\n      const iso = w?.REVENUE_BOOST_CONFIG?.currency;\n      if (typeof iso === 'string') {\n        currencyCodeRef.current = iso;\n      }\n    } catch {\n      // noop\n    }\n  }, []);\n\n  // Live cart updates: refresh cart total after theme cart events or cart mutations\n  useEffect(() => {\n    if (!isVisible) return;\n\n    const refresh = async () => {\n      try {\n        const res = await fetch('/cart.js', { credentials: 'same-origin' });\n        const cart = await res.json();\n        const cents = (typeof cart?.subtotal_price === 'number')\n          ? cart.subtotal_price\n          : (Number(cart?.items_subtotal_price || 0) - Number(cart?.total_discount || 0));\n        const value = Number.isFinite(cents) ? Math.max(0, cents / 100) : 0;\n        setCartTotal(value);\n      } catch {\n        // ignore network errors\n      }\n    };\n\n    const debouncedRefresh = debounce(refresh, 300);\n    const eventNames = ['cart:update','cart:change','cart:updated','theme:cart:update','cart:item-added','cart:add'];\n    eventNames.forEach((name) => document.addEventListener(name, debouncedRefresh as any));\n\n    // Initial sync if no initial cart total was provided\n    if (propCartTotal == null && config.currentCartTotal == null) {\n      void refresh();\n    }\n\n    // Optional: intercept cart mutations via fetch (guard for double-wrapping)\n    const w: any = window as any;\n    let originalFetch: typeof window.fetch | null = null;\n    if (!w.__RB_FETCH_INTERCEPTED) {\n      try {\n        originalFetch = window.fetch.bind(window);\n        window.fetch = (async (...args: Parameters<typeof fetch>) => {\n          const [url, opts] = args;\n          const urlStr = typeof url === 'string' ? url : url?.toString?.();\n          const method = (opts as any)?.method ? String((opts as any).method).toUpperCase() : 'GET';\n          const isCartMutation = !!urlStr && urlStr.includes('/cart') && method !== 'GET';\n          const response = await (originalFetch as any)(...args);\n          if (isCartMutation) debouncedRefresh();\n          return response;\n        }) as any;\n        w.__RB_FETCH_INTERCEPTED = true;\n      } catch {\n        // ignore\n      }\n    }\n\n    return () => {\n      eventNames.forEach((name) => document.removeEventListener(name, debouncedRefresh as any));\n      try {\n        if (originalFetch) {\n          window.fetch = originalFetch;\n          w.__RB_FETCH_INTERCEPTED = false;\n        }\n      } catch (error) {\n        console.error('[FreeShippingPopup] Failed to restore fetch:', error);\n      }\n    };\n  }, [isVisible]);\n\n  // In preview mode (admin), allow external control of cart total via prop or config\n  useEffect(() => {\n    if ((config as any)?.previewMode) {\n      const next = typeof propCartTotal === 'number'\n        ? propCartTotal\n        : (typeof config.currentCartTotal === 'number' ? config.currentCartTotal : undefined);\n      if (typeof next === 'number') setCartTotal(next);\n    }\n  }, [propCartTotal, config.currentCartTotal, config]);\n\n\n  const getMessage = () => {\n    const remainingFormatted = formatCurrency(remaining);\n\n    switch (state) {\n      case \"empty\":\n        return config.emptyMessage || \"Add items to unlock free shipping\";\n      case \"unlocked\":\n        return config.unlockedMessage || \"You've unlocked free shipping! \uD83C\uDF89\";\n      case \"near-miss\":\n        return (config.nearMissMessage || \"Only {remaining} to go!\").replace(\"{remaining}\", remainingFormatted);\n      case \"progress\":\n      default:\n        return (config.progressMessage || \"You're {remaining} away from free shipping\").replace(\"{remaining}\", remainingFormatted);\n    }\n  };\n\n  // Trigger celebration animation when unlocking\n  useEffect(() => {\n    const isUnlocked = state === \"unlocked\";\n    const wasLocked = prevUnlockedRef.current === false;\n\n    if (isUnlocked && wasLocked && celebrateOnUnlock) {\n      setCelebrating(true);\n      const timer = setTimeout(() => setCelebrating(false), 1000);\n      return () => clearTimeout(timer);\n    }\n\n    prevUnlockedRef.current = isUnlocked;\n  }, [state, celebrateOnUnlock]);\n\n  // Don't render if not visible and not animating out\n  if ((!isVisible || internalDismissed) && !isExiting) {\n    return null;\n  }\n\n  // Get progress bar color based on state\n  const getProgressColor = () => {\n    if (state === \"unlocked\") return config.accentColor || '#10B981';\n    if (state === \"near-miss\") return '#F59E0B'; // Warning color\n    return config.accentColor || '#3B82F6'; // Primary color\n  };\n\n  // Get icon based on state\n  const getIcon = () => {\n    if (!showIcon) return null;\n    switch (state) {\n      case \"unlocked\":\n        return \"\u2713\";\n      case \"near-miss\":\n        return \"\u26A1\";\n      default:\n        return \"\uD83D\uDE9A\";\n    }\n  };\n\n  return (\n    <>\n      <style>{`\n        .free-shipping-bar {\n          position: fixed;\n          left: 0;\n          right: 0;\n          width: 100%;\n          z-index: 9999;\n          font-family: ${config.fontFamily || '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif'};\n          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n        }\n\n        .free-shipping-bar[data-position=\"top\"] {\n          top: 0;\n          animation: slideInFromTop 0.3s ease-out forwards;\n        }\n\n        .free-shipping-bar[data-position=\"bottom\"] {\n          bottom: 0;\n          animation: slideInFromBottom 0.3s ease-out forwards;\n        }\n\n        .free-shipping-bar.exiting[data-position=\"top\"] {\n          animation: slideOutToTop 0.3s ease-in forwards;\n        }\n\n        .free-shipping-bar.exiting[data-position=\"bottom\"] {\n          animation: slideOutToBottom 0.3s ease-in forwards;\n        }\n\n        @keyframes slideInFromTop {\n          from {\n            transform: translateY(-100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideOutToTop {\n          from {\n            transform: translateY(0);\n          }\n          to {\n            transform: translateY(-100%);\n          }\n        }\n\n        @keyframes slideInFromBottom {\n          from {\n            transform: translateY(100%);\n          }\n          to {\n            transform: translateY(0);\n          }\n        }\n\n        @keyframes slideOutToBottom {\n          from {\n            transform: translateY(0);\n          }\n          to {\n            transform: translateY(100%);\n          }\n        }\n\n        .free-shipping-bar-content {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          gap: 1rem;\n          padding: 0.875rem 1.5rem;\n          position: relative;\n          overflow: hidden;\n        }\n\n        .free-shipping-bar-message {\n          display: flex;\n          align-items: center;\n          gap: 0.75rem;\n          flex: 1;\n          z-index: 1;\n        }\n\n        .free-shipping-bar-icon {\n          font-size: 1.25rem;\n          line-height: 1;\n          flex-shrink: 0;\n        }\n\n        .free-shipping-bar-text {\n          font-size: 0.9375rem;\n          font-weight: 500;\n          line-height: 1.4;\n          margin: 0;\n        }\n\n        .free-shipping-bar-close {\n          background: transparent;\n          border: none;\n          cursor: pointer;\n          padding: 0.25rem;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          opacity: 0.6;\n          transition: opacity 0.2s;\n          z-index: 1;\n          flex-shrink: 0;\n        }\n\n        .free-shipping-bar-close:hover {\n          opacity: 1;\n        }\n\n        .free-shipping-bar-close:focus {\n          outline: 2px solid currentColor;\n          outline-offset: 2px;\n          opacity: 1;\n        }\n\n        .free-shipping-bar-progress {\n          position: absolute;\n          left: 0;\n          top: 0;\n          bottom: 0;\n          background: var(--shipping-bar-progress-bg);\n          transition: width ${animationDuration}ms ease-out;\n          z-index: 0;\n        }\n\n        .free-shipping-bar[data-state=\"unlocked\"] .free-shipping-bar-progress {\n          animation: ${celebrating ? \"celebrate 1s ease-in-out\" : \"none\"};\n        }\n\n        @keyframes celebrate {\n          0%, 100% { transform: translateX(0); }\n          25% { transform: translateX(-5px); }\n          50% { transform: translateX(5px); }\n          75% { transform: translateX(-5px); }\n        }\n\n        @media (prefers-reduced-motion: reduce) {\n          .free-shipping-bar,\n          .free-shipping-bar-progress {\n            transition: none;\n          }\n\n          .free-shipping-bar[data-position=\"top\"],\n          .free-shipping-bar[data-position=\"bottom\"] {\n            animation: none !important;\n          }\n\n          .free-shipping-bar[data-state=\"unlocked\"] .free-shipping-bar-progress {\n            animation: none;\n          }\n        }\n\n        @media (max-width: 640px) {\n          .free-shipping-bar-content {\n            padding: 0.75rem 1rem;\n            gap: 0.75rem;\n          }\n\n          .free-shipping-bar-text {\n            font-size: 0.875rem;\n          }\n\n          .free-shipping-bar-icon {\n            font-size: 1.125rem;\n          }\n        }\n      `}</style>\n\n      <div\n        ref={bannerRef}\n        className={`free-shipping-bar ${isExiting ? 'exiting' : ''}`}\n        data-position={barPosition}\n        data-state={state}\n        role=\"region\"\n        aria-live=\"polite\"\n        aria-atomic=\"true\"\n        style={{\n          position: (config as any)?.previewMode ? 'absolute' : undefined,\n          background: config.backgroundColor || '#ffffff',\n          color: config.textColor || '#111827',\n          ['--shipping-bar-progress-bg' as any]: getProgressColor(),\n        }}\n      >\n        <div\n          className=\"free-shipping-bar-progress\"\n          style={{\n            width: `${progress * 100}%`,\n            opacity: state === \"empty\" ? 0 : state === \"unlocked\" ? 0.2 : 0.15,\n          }}\n        />\n\n        <div className=\"free-shipping-bar-content\">\n          <div className=\"free-shipping-bar-message\">\n            {showIcon && (\n              <span className=\"free-shipping-bar-icon\" aria-hidden=\"true\">\n                {getIcon()}\n              </span>\n            )}\n            <p className=\"free-shipping-bar-text\">{getMessage()}</p>\n          </div>\n\n          {dismissible && (\n            <button\n              className=\"free-shipping-bar-close\"\n              onClick={handleClose}\n              aria-label=\"Dismiss shipping bar\"\n              style={{ color: config.textColor || '#111827' }}\n            >\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  d=\"M15 5L5 15M5 5L15 15\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"2\"\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                />\n              </svg>\n            </button>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\n", "/**\n * Free Shipping Popup Bundle\n */\n\nimport { FreeShippingPopup } from \"../../../app/domains/storefront/popups-new/FreeShippingPopup\";\n\n(function register() {\n  const g = window as unknown as { RevenueBoostComponents?: Record<string, unknown>; console?: Console };\n  g.RevenueBoostComponents = g.RevenueBoostComponents || {};\n  g.RevenueBoostComponents[\"FREE_SHIPPING\"] = FreeShippingPopup;\n\n  if (typeof g.console?.debug === \"function\") {\n    console.debug(\"[Revenue Boost] Free Shipping popup registered\");\n  }\n})();\n\n"],
  "mappings": "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",
  "names": ["h", "Fragment", "Fragment"]
}
