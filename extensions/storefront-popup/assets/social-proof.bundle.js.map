{
  "version": 3,
  "sources": ["global-preact:global-preact:react", "global-preact:global-preact:preact/jsx-runtime", "../../../app/domains/storefront/notifications/social-proof/SocialProofNotification.tsx", "../../../app/domains/storefront/notifications/social-proof/types.ts", "../../../app/domains/storefront/notifications/social-proof/SocialProofPopup.tsx", "../../storefront-src/bundles/social-proof.ts"],
  "sourcesContent": ["\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const { h, Component, Fragment, render, createPortal, createContext } = window.RevenueBoostPreact;\n                const { useState, useEffect, useCallback, useRef, useMemo, useContext, useDebugValue } = window.RevenueBoostPreact.hooks;\n                const createElement = h;\n                export {\n                  h,\n                  createElement,\n                  Component,\n                  Fragment,\n                  render,\n                  createPortal,\n                  createContext,\n                  useState,\n                  useEffect,\n                  useCallback,\n                  useRef,\n                  useMemo,\n                  useContext,\n                  useDebugValue,\n                };\n                export default {\n                  h,\n                  createElement,\n                  Component,\n                  Fragment,\n                  render,\n                  createPortal,\n                  createContext,\n                  useState,\n                  useEffect,\n                  useCallback,\n                  useRef,\n                  useMemo,\n                  useContext,\n                  useDebugValue,\n                };\n              ", "\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const options = window.RevenueBoostPreact.options || {};\n                const h = window.RevenueBoostPreact.h;\n\n                // JSX runtime factory function\n                let vnodeId = 0;\n                export function jsx(type, props, key, isStaticChildren, __source, __self) {\n                  if (!props) props = {};\n                  let normalizedProps = props;\n                  let ref;\n\n                  if ('ref' in props) {\n                    normalizedProps = {};\n                    for (let i in props) {\n                      if (i === 'ref') ref = props[i];\n                      else normalizedProps[i] = props[i];\n                    }\n                  }\n\n                  const vnode = {\n                    type,\n                    props: normalizedProps,\n                    key: key !== undefined ? key : null,\n                    ref: ref !== undefined ? ref : null,\n                    __k: null,\n                    __: null,\n                    __b: 0,\n                    __e: null,\n                    __c: null,\n                    constructor: undefined,\n                    __v: --vnodeId,\n                    __i: -1,\n                    __u: 0,\n                    __source,\n                    __self\n                  };\n\n                  if (typeof type === 'function' && (ref = type.defaultProps)) {\n                    for (let i in ref) {\n                      if (normalizedProps[i] === undefined) {\n                        normalizedProps[i] = ref[i];\n                      }\n                    }\n                  }\n\n                  if (options.vnode) options.vnode(vnode);\n                  return vnode;\n                }\n\n                export const jsxs = jsx;\n                export const jsxDEV = jsx;\n                export const createElement = h;\n                export const Fragment = window.RevenueBoostPreact.Fragment;\n              ", "/**\n * Social Proof Notification Component\n *\n * Renders individual social proof notifications (purchase, visitor, review).\n * Features auto-dismiss, animations, and click tracking.\n */\n\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport type { SocialProofNotification, SocialProofConfig } from \"./types\";\n\nexport interface SocialProofNotificationProps {\n  notification: SocialProofNotification;\n  config: SocialProofConfig;\n  onDismiss: () => void;\n  onClick?: () => void;\n}\n\nexport const SocialProofNotificationComponent: React.FC<\n  SocialProofNotificationProps\n> = ({ notification, config, onDismiss, onClick }) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [isExiting, setIsExiting] = useState(false);\n\n  const colors = {\n    background:\n      config.notificationBackgroundColor || config.backgroundColor || \"#FFFFFF\",\n    text: config.textColor || \"#1F2937\",\n    primary:\n      config.customerNameColor ||\n      config.accentColor ||\n      config.textColor ||\n      \"#111827\",\n    secondary: \"#F3F4F6\",\n    success: config.accentColor || \"#16A34A\",\n    warning: \"#F59E0B\",\n    border: \"#E5E7EB\",\n  };\n\n  const handleDismiss = useCallback(() => {\n    setIsExiting(true);\n    setTimeout(() => {\n      onDismiss();\n    }, 300); // Match animation duration\n  }, [onDismiss]);\n\n  // Slide in animation on mount\n  useEffect(() => {\n    const timer = setTimeout(() => setIsVisible(true), 100);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Auto-dismiss after displayDuration\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      handleDismiss();\n    }, config.displayDuration * 1000);\n\n    return () => clearTimeout(timer);\n  }, [config.displayDuration, handleDismiss]);\n\n  const handleClick = () => {\n    if (onClick) {\n      onClick();\n    }\n  };\n\n  const getPositionStyles = (): React.CSSProperties => {\n    const base: React.CSSProperties = {\n      position: \"fixed\",\n      zIndex: 999998,\n    };\n\n    switch (config.position) {\n      case \"bottom-left\":\n        return { ...base, bottom: \"20px\", left: \"20px\" };\n      case \"bottom-right\":\n        return { ...base, bottom: \"20px\", right: \"20px\" };\n      case \"top-left\":\n        return { ...base, top: \"20px\", left: \"20px\" };\n      case \"top-right\":\n        return { ...base, top: \"20px\", right: \"20px\" };\n      default:\n        return { ...base, bottom: \"20px\", left: \"20px\" };\n    }\n  };\n\n  const renderPurchaseNotification = (\n    notif: SocialProofNotification & { type: \"purchase\" },\n  ) => (\n    <div className=\"notification-content\">\n      {config.showIcons && (\n        <div className=\"notification-icon\">\uD83D\uDECD\uFE0F</div>\n      )}\n      <div className=\"notification-body\">\n        <p className=\"notification-text\">\n          <strong style={{ color: colors.primary }}>{notif.customerName}</strong>\n          {config.showCustomerLocation !== false && notif.location && (\n            <>\n              {\" \"}\n              <span style={{ color: colors.text, opacity: 0.8 }}>\n                from {notif.location}\n              </span>\n            </>\n          )}\n          <br />\n          <span style={{ color: colors.text, opacity: 0.7 }}>just purchased:</span>\n          <br />\n          <strong style={{ color: colors.text }}>{notif.productName}</strong>\n        </p>\n        <div className=\"notification-meta\" style={{ color: colors.text }}>\n          <span>{notif.timeAgo}</span>\n          {config.showVerifiedBadge && notif.verified && (\n            <span\n              className=\"verified-badge\"\n              style={{ background: colors.success, color: \"#FFFFFF\" }}\n            >\n              <span>\u2713</span> Verified\n            </span>\n          )}\n        </div>\n      </div>\n      {notif.productImage && (\n        <img\n          src={notif.productImage}\n          alt={notif.productName}\n          style={{\n            width: \"48px\",\n            height: \"48px\",\n            borderRadius: \"6px\",\n            objectFit: \"cover\",\n            marginLeft: \"12px\",\n          }}\n        />\n      )}\n    </div>\n  );\n\n  const renderVisitorNotification = (\n    notif: SocialProofNotification & { type: \"visitor\" },\n  ) => {\n    const contextText = notif.context;\n    const isLowStock = /left in stock!$/i.test(contextText);\n\n    // Special layout for low stock alerts (inventory-based, not \"people\")\n    if (isLowStock) {\n      return (\n        <div className=\"notification-content\">\n          {config.showIcons && (\n            <div className=\"notification-icon\">\u26A0\uFE0F</div>\n          )}\n          <div className=\"notification-body\">\n            <p className=\"notification-text\">\n              <strong style={{ color: colors.warning }}>\n                {notif.count === 1\n                  ? \"Only 1 left in stock!\"\n                  : `Only ${notif.count} left in stock!`}\n              </strong>\n            </p>\n          </div>\n        </div>\n      );\n    }\n\n    // Default layout for visitor / sales-count / cart-activity / recently-viewed\n    return (\n      <div className=\"notification-content\">\n        {config.showIcons && (\n          <div className=\"notification-icon\">\uD83D\uDC65</div>\n        )}\n        <div className=\"notification-body\">\n          <p className=\"notification-text\">\n            <strong style={{ color: colors.primary }}>\n              {notif.count} {notif.count === 1 ? \"person\" : \"people\"}\n            </strong>\n            <br />\n            <span style={{ color: colors.text, opacity: 0.8 }}>\n              {contextText}\n            </span>\n          </p>\n          {notif.trending && (\n            <div className=\"notification-meta\">\n              <span\n                className=\"trending-indicator\"\n                style={{ color: colors.warning }}\n              >\n                <span>\uD83D\uDD25</span> Trending\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderReviewNotification = (\n    notif: SocialProofNotification & { type: \"review\" },\n  ) => {\n    const renderStars = (rating: number) =>\n      Array.from({ length: 5 }, (_, i) => (\n        <span\n          // eslint-disable-next-line react/no-array-index-key\n          key={i}\n          style={{\n            color: i < rating ? \"#FBBF24\" : colors.border,\n          }}\n        >\n          \u2605\n        </span>\n      ));\n\n    return (\n      <div className=\"notification-content\">\n        {config.showIcons && (\n          <div className=\"notification-icon\">\u2B50</div>\n        )}\n        <div className=\"notification-body\">\n          <p className=\"notification-text\">\n            <span className=\"star-rating\">{renderStars(notif.rating)}</span>\n            <br />\n            <strong style={{ color: colors.primary }}>\n              {notif.rating.toFixed(1)}\n            </strong>{\" \"}\n            <span style={{ color: colors.text, opacity: 0.8 }}>\n              from {notif.reviewCount.toLocaleString()} reviews\n            </span>\n          </p>\n\n          {notif.recentReview && (\n            <div\n              className=\"review-quote\"\n              style={{\n                background: colors.secondary,\n                borderLeft: `3px solid ${colors.primary}`,\n              }}\n            >\n              <p className=\"review-text\">\n                &quot;{notif.recentReview.text}&quot;\n              </p>\n              <div className=\"review-author\">\n                <span>\u2014 {notif.recentReview.author}</span>\n                {config.showVerifiedBadge && notif.recentReview.verified && (\n                  <span\n                    className=\"verified-badge\"\n                    style={{ background: colors.success, color: \"#FFFFFF\" }}\n                  >\n                    <span>\u2713</span> Verified\n                  </span>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  };\n\n  const renderNotificationContent = () => {\n    switch (notification.type) {\n      case \"purchase\":\n        return renderPurchaseNotification(notification);\n      case \"visitor\":\n        return renderVisitorNotification(notification);\n      case \"review\":\n        return renderReviewNotification(notification);\n      default:\n        return null;\n    }\n  };\n\n  const getAnimationClass = () => {\n    if (isExiting) return \"social-proof-exit\";\n    if (isVisible) return \"social-proof-enter\";\n    return \"\";\n  };\n\n  return (\n    <>\n      <div\n        className={`social-proof-notification ${getAnimationClass()}`}\n        style={{\n          ...getPositionStyles(),\n          width: \"320px\",\n          minWidth: \"280px\",\n          maxWidth: \"calc(100vw - 40px)\",\n          background: colors.background,\n          color: colors.text,\n          borderRadius: \"12px\",\n          boxShadow:\n            \"0 10px 40px rgba(0, 0, 0, 0.15), 0 4px 8px rgba(0, 0, 0, 0.1)\",\n          padding: \"16px\",\n          paddingRight: \"40px\",\n          cursor: onClick ? \"pointer\" : \"default\",\n          border: `1px solid ${colors.border}`,\n          transition: \"transform 0.3s ease-out, opacity 0.3s ease-out\",\n        }}\n        onClick={handleClick}\n      >\n        {renderNotificationContent()}\n\n        {/* Close Button */}\n        <button\n          onClick={(e) => {\n            e.stopPropagation();\n            handleDismiss();\n          }}\n          style={{\n            position: \"absolute\",\n            top: \"0px\",\n            right: \"8px\",\n            background: \"transparent\",\n            border: \"none\",\n            cursor: \"pointer\",\n            padding: \"4px\",\n            opacity: 0.5,\n            fontSize: \"16px\",\n            lineHeight: \"1\",\n            color: colors.text,\n          }}\n          onMouseEnter={(e) => {\n            e.currentTarget.style.opacity = \"1\";\n          }}\n          onMouseLeave={(e) => {\n            e.currentTarget.style.opacity = \"0.5\";\n          }}\n          aria-label=\"Dismiss notification\"\n        >\n          \u00D7\n        </button>\n      </div>\n\n      {/* Animations & layout */}\n      <style>{`\n        .social-proof-notification {\n          /* Start invisible and off-screen, will be animated in */\n          opacity: 0;\n          transform: translateX(-100%);\n          /* Ensure it's not hidden by default */\n          visibility: visible;\n        }\n\n        .social-proof-notification.social-proof-enter {\n          animation: slideInLeft 0.3s ease-out forwards;\n        }\n\n        .social-proof-notification.social-proof-exit {\n          animation: fadeOut 0.3s ease-out forwards;\n        }\n\n        .social-proof-notification:hover {\n          transform: translateY(-2px);\n        }\n\n        @keyframes slideInLeft {\n          from {\n            opacity: 0;\n            transform: translateX(-100%);\n            visibility: visible;\n          }\n          to {\n            opacity: 1;\n            transform: translateX(0);\n            visibility: visible;\n          }\n        }\n\n        @keyframes fadeOut {\n          from {\n            opacity: 1;\n            visibility: visible;\n          }\n          to {\n            opacity: 0;\n            visibility: visible;\n          }\n        }\n\n        .notification-content {\n          display: flex;\n          align-items: flex-start;\n          gap: 12px;\n        }\n\n        .notification-icon {\n          flex-shrink: 0;\n          font-size: 24px;\n          line-height: 1;\n        }\n\n        .notification-body {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .notification-text {\n          margin: 0;\n          font-size: 14px;\n          line-height: 1.5;\n        }\n\n        .notification-meta {\n          margin-top: 4px;\n          font-size: 12px;\n          opacity: 0.7;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n          flex-wrap: wrap;\n        }\n\n        .verified-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 11px;\n          padding: 2px 6px;\n          border-radius: 4px;\n          font-weight: 500;\n        }\n\n        .trending-indicator {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          font-size: 12px;\n          font-weight: 600;\n        }\n\n        .star-rating {\n          display: inline-flex;\n          align-items: center;\n          gap: 2px;\n        }\n\n        .review-quote {\n          margin-top: 8px;\n          padding: 8px 12px;\n          border-radius: 8px;\n        }\n\n        .review-text {\n          font-style: italic;\n          font-size: 13px;\n          line-height: 1.4;\n          margin: 0 0 6px 0;\n        }\n\n        .review-author {\n          font-size: 12px;\n          font-weight: 500;\n          opacity: 0.8;\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        /* Mobile responsiveness */\n        @media (max-width: 640px) {\n          .social-proof-notification {\n            width: calc(100vw - 40px) !important;\n            font-size: 13px;\n          }\n\n          .notification-text {\n            font-size: 13px;\n          }\n\n          .notification-meta {\n            font-size: 11px;\n          }\n\n          .notification-icon {\n            font-size: 20px;\n          }\n        }\n      `}</style>\n    </>\n  );\n};\n", "/**\n * Social Proof Types\n *\n * Type definitions for social proof notifications that build trust and credibility.\n */\n\nimport type { SocialProofConfig as TemplateSocialProofConfig } from \"~/lib/template-configs\";\n\nexport type SocialProofNotificationType = \"purchase\" | \"visitor\" | \"review\";\n\nexport interface BaseSocialProofNotification {\n  id: string;\n  type: SocialProofNotificationType;\n  timestamp: number;\n}\n\nexport interface PurchaseNotification extends BaseSocialProofNotification {\n  type: \"purchase\";\n  customerName: string; // \"John D.\" (anonymized)\n  location: string; // \"New York, NY\"\n  productName: string; // \"Classic T-Shirt\"\n  productImage?: string; // Optional product image URL\n  timeAgo: string; // \"2 minutes ago\"\n  verified: boolean; // Show verified badge\n}\n\nexport interface VisitorNotification extends BaseSocialProofNotification {\n  type: \"visitor\";\n  count: number; // 23\n  context: string; // \"viewing this product\" | \"shopping now\"\n  trending: boolean; // Show trending indicator\n}\n\nexport interface ReviewNotification extends BaseSocialProofNotification {\n  type: \"review\";\n  rating: number; // 4.8\n  reviewCount: number; // 1,234\n  recentReview?: {\n    text: string; // \"Love this product!\"\n    author: string; // \"Sarah M.\"\n    verified: boolean;\n  };\n}\n\nexport type SocialProofNotification =\n  | PurchaseNotification\n  | VisitorNotification\n  | ReviewNotification;\n\n// Extend the template config with additional runtime properties\nexport interface SocialProofConfig extends Partial<TemplateSocialProofConfig> {\n  // Notification Types (Tier 1 - Highest Impact)\n  enablePurchaseNotifications: boolean;\n  enableVisitorNotifications: boolean;\n  enableReviewNotifications: boolean;\n\n  // Additional Notification Types (Tier 1 & 2)\n  enableSalesCountNotifications?: boolean; // \"47 people bought this in last 24h\"\n  enableLowStockAlerts?: boolean; // \"Only 3 left in stock!\"\n  enableTrendingNotifications?: boolean; // \"\uD83D\uDD25 Trending - 50+ views today\"\n  enableCartActivityNotifications?: boolean; // \"3 people added to cart recently\"\n  enableRecentlyViewedNotifications?: boolean; // \"15 people viewed this in last hour\"\n\n  // Display Settings\n  position: \"bottom-left\" | \"bottom-right\" | \"top-left\" | \"top-right\";\n  displayDuration: number; // seconds (default: 5)\n  rotationInterval: number; // seconds (default: 8)\n  maxNotificationsPerSession: number; // default: 5\n\n  // Data Settings\n  purchaseLookbackHours: number; // default: 48\n  minVisitorCount: number; // default: 5\n  minReviewRating: number; // default: 4.0\n  lowStockThreshold?: number; // default: 10\n\n  // Privacy Settings\n  anonymizeCustomerNames: boolean; // default: true\n  showCustomerLocation: boolean; // default: true\n\n  // Design Settings\n  backgroundColor: string;\n  textColor: string;\n  accentColor: string;\n  showIcons: boolean;\n  showVerifiedBadge: boolean;\n\n  // Enhanced color properties\n  notificationBackgroundColor?: string;\n  timestampColor?: string;\n  actionTextColor?: string;\n  customerNameColor?: string;\n  productNameColor?: string;\n}\n\nexport const DEFAULT_SOCIAL_PROOF_CONFIG: SocialProofConfig = {\n  // Notification Types\n  enablePurchaseNotifications: true,\n  enableVisitorNotifications: true,\n  enableReviewNotifications: true,\n\n  // Display Settings\n  position: \"bottom-left\",\n  displayDuration: 5,\n  rotationInterval: 8,\n  maxNotificationsPerSession: 5,\n\n  // Data Settings\n  purchaseLookbackHours: 48,\n  minVisitorCount: 5,\n  minReviewRating: 4.0,\n\n  // Privacy Settings\n  anonymizeCustomerNames: true,\n  showCustomerLocation: true,\n\n  // Design Settings\n  backgroundColor: \"#FFFFFF\",\n  textColor: \"#1A1A1A\",\n  accentColor: \"#10B981\",\n  showIcons: true,\n  showVerifiedBadge: true,\n\n  // Enhanced color properties\n  notificationBackgroundColor: \"#F9FAFB\",\n  timestampColor: \"#6B7280\",\n  actionTextColor: \"#059669\",\n  customerNameColor: \"#1F2937\",\n  productNameColor: \"#3B82F6\",\n};\n", "/**\n * Social Proof Popup Component\n *\n * Manages social proof notification queue and sequential display.\n * Features rotation timer, frequency limits, and data fetching.\n */\n\nimport React, { useState, useEffect, useCallback, useMemo } from \"react\";\nimport { SocialProofNotificationComponent } from \"./SocialProofNotification\";\nimport type { SocialProofNotification, SocialProofConfig } from \"./types\";\nimport { DEFAULT_SOCIAL_PROOF_CONFIG } from \"./types\";\n\nexport interface SocialProofPopupProps {\n  campaignId: string;\n  config?: Partial<SocialProofConfig>;\n  notifications?: SocialProofNotification[]; // For preview/testing\n  onNotificationShow?: (notification: SocialProofNotification) => void;\n  onNotificationClick?: (notification: SocialProofNotification) => void;\n  onNotificationDismiss?: (notification: SocialProofNotification) => void;\n}\n\nexport const SocialProofPopup: React.FC<SocialProofPopupProps> = ({\n  campaignId,\n  config: customConfig,\n  notifications: providedNotifications,\n  onNotificationShow,\n  onNotificationClick,\n  onNotificationDismiss,\n}) => {\n  const config: SocialProofConfig = useMemo(\n    () => ({\n      ...DEFAULT_SOCIAL_PROOF_CONFIG,\n      ...customConfig,\n    }),\n    [customConfig],\n  );\n\n  const [notifications, setNotifications] = useState<SocialProofNotification[]>(\n    [],\n  );\n  const [currentNotification, setCurrentNotification] =\n    useState<SocialProofNotification | null>(null);\n  const [notificationQueue, setNotificationQueue] = useState<\n    SocialProofNotification[]\n  >([]);\n  const [displayCount, setDisplayCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n\n  const fetchNotifications = useCallback(async () => {\n    try {\n      setIsLoading(true);\n\n      // Fetch from API (prefer app proxy on storefront, fallback to local API)\n      const proxyBase = \"/apps/split-pop\";\n      const tryUrls = [\n        `${proxyBase}/api/social-proof/${campaignId}`,\n        `/api/social-proof/${campaignId}`,\n      ];\n\n      let data: { success?: boolean; notifications?: SocialProofNotification[] } | null = null;\n      let lastError: unknown = null;\n\n      for (const url of tryUrls) {\n        try {\n          console.log(`[SocialProofPopup] Attempting to fetch from ${url}`);\n          const res = await fetch(url);\n          if (!res.ok) throw new Error(`HTTP ${res.status}`);\n          data = await res.json();\n          console.log(\n            `[SocialProofPopup] Successfully fetched from ${url}`,\n            data,\n          );\n          break;\n        } catch (e) {\n          console.log(`[SocialProofPopup] Failed to fetch from ${url}:`, e);\n          lastError = e;\n          continue;\n        }\n      }\n\n      if (!data) throw lastError || new Error(\"Failed to fetch notifications\");\n\n      if (data.success && data.notifications && data.notifications.length > 0) {\n        // Use real data from API\n        console.log(\n          `[SocialProofPopup] Using API notifications:`,\n          data.notifications.length,\n        );\n        setNotifications(data.notifications);\n        setNotificationQueue(data.notifications);\n      } else {\n        // Fallback to mock data if API returns empty\n        console.log(`[SocialProofPopup] API returned empty, using mock data`);\n        const mockNotifications = generateMockNotifications(config);\n        setNotifications(mockNotifications);\n        setNotificationQueue(mockNotifications);\n      }\n    } catch (error) {\n      console.warn(\n        \"[SocialProofPopup] Failed to fetch notifications, using mock data:\",\n        error,\n      );\n\n      // Fallback to mock data on error\n      const mockNotifications = generateMockNotifications(config);\n      console.log(\n        `[SocialProofPopup] Generated mock notifications:`,\n        mockNotifications.length,\n      );\n      setNotifications(mockNotifications);\n      setNotificationQueue(mockNotifications);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [campaignId, config]);\n\n  // Fetch notifications on mount\n  useEffect(() => {\n    if (providedNotifications) {\n      // Use provided notifications (for preview/testing)\n      setNotifications(providedNotifications);\n      setNotificationQueue(providedNotifications);\n      setIsLoading(false);\n    } else {\n      // Fetch from API\n      fetchNotifications();\n    }\n  }, [campaignId, providedNotifications, fetchNotifications]);\n\n  // Set up polling for real-time updates (every 60 seconds)\n  useEffect(() => {\n    if (providedNotifications) {\n      // Don't poll in preview mode\n      return;\n    }\n\n    const pollingInterval = setInterval(() => {\n      console.log(\"[SocialProofPopup] Polling for new notifications...\");\n      fetchNotifications();\n    }, 60000); // Poll every 60 seconds\n\n    return () => clearInterval(pollingInterval);\n  }, [providedNotifications, fetchNotifications]);\n\n  // Show next notification in queue\n  const showNextNotification = useCallback(() => {\n    // Check if we've reached the max display limit\n    if (displayCount >= config.maxNotificationsPerSession) {\n      return;\n    }\n\n    // Get next notification from queue\n    if (notificationQueue.length > 0) {\n      const [next, ...rest] = notificationQueue;\n      setCurrentNotification(next);\n      setNotificationQueue(rest);\n      setDisplayCount((prev) => prev + 1);\n\n      // Track notification show\n      if (onNotificationShow) {\n        onNotificationShow(next);\n      }\n\n      // If queue is empty, refill it\n      if (rest.length === 0 && notifications.length > 0) {\n        setNotificationQueue(notifications);\n      }\n    }\n  }, [\n    notificationQueue,\n    notifications,\n    displayCount,\n    config.maxNotificationsPerSession,\n    onNotificationShow,\n  ]);\n\n  // Start rotation timer\n  useEffect(() => {\n    console.log(\n      `[SocialProofPopup] Rotation timer: isLoading=${isLoading}, notifications=${notifications.length}, currentNotification=${currentNotification?.id}`,\n    );\n\n    if (isLoading || notifications.length === 0) {\n      console.log(\n        `[SocialProofPopup] Skipping rotation: isLoading=${isLoading}, no notifications`,\n      );\n      return;\n    }\n\n    // Show first notification immediately\n    if (!currentNotification && displayCount === 0) {\n      console.log(`[SocialProofPopup] Showing first notification`);\n      showNextNotification();\n    }\n\n    // Set up rotation interval\n    const interval = setInterval(() => {\n      showNextNotification();\n    }, config.rotationInterval * 1000);\n\n    return () => clearInterval(interval);\n  }, [\n    isLoading,\n    notifications,\n    currentNotification,\n    displayCount,\n    config.rotationInterval,\n    showNextNotification,\n  ]);\n\n  const handleDismiss = () => {\n    if (currentNotification && onNotificationDismiss) {\n      onNotificationDismiss(currentNotification);\n    }\n    setCurrentNotification(null);\n  };\n\n  const handleClick = () => {\n    if (currentNotification && onNotificationClick) {\n      onNotificationClick(currentNotification);\n    }\n  };\n\n  // Don't render if loading or no notifications\n  if (isLoading || !currentNotification) {\n    console.log(\n      `[SocialProofPopup] Returning null: isLoading=${isLoading}, currentNotification=${currentNotification?.id}`,\n    );\n    return null;\n  }\n\n  console.log(\n    `[SocialProofPopup] Rendering notification:`,\n    currentNotification.id,\n  );\n  return (\n    <SocialProofNotificationComponent\n      notification={currentNotification}\n      config={config}\n      onDismiss={handleDismiss}\n      onClick={handleClick}\n    />\n  );\n};\n\n// Helper function to generate mock notifications for testing\nfunction generateMockNotifications(\n  config: SocialProofConfig,\n): SocialProofNotification[] {\n  const notifications: SocialProofNotification[] = [];\n\n  // Generate purchase notifications\n  if (config.enablePurchaseNotifications) {\n    const purchases: SocialProofNotification[] = [\n      {\n        id: \"purchase-1\",\n        type: \"purchase\",\n        customerName: \"John D.\",\n        location: \"New York, NY\",\n        productName: \"Classic T-Shirt\",\n        timeAgo: \"2 minutes ago\",\n        verified: true,\n        timestamp: Date.now() - 120000,\n      },\n      {\n        id: \"purchase-2\",\n        type: \"purchase\",\n        customerName: \"Sarah M.\",\n        location: \"Los Angeles, CA\",\n        productName: \"Denim Jeans\",\n        timeAgo: \"5 minutes ago\",\n        verified: true,\n        timestamp: Date.now() - 300000,\n      },\n      {\n        id: \"purchase-3\",\n        type: \"purchase\",\n        customerName: \"Mike R.\",\n        location: \"Chicago, IL\",\n        productName: \"Sneakers\",\n        timeAgo: \"12 minutes ago\",\n        verified: true,\n        timestamp: Date.now() - 720000,\n      },\n    ];\n    notifications.push(...purchases);\n  }\n\n  // Generate visitor notifications\n  if (config.enableVisitorNotifications) {\n    const visitors: SocialProofNotification[] = [\n      {\n        id: \"visitor-1\",\n        type: \"visitor\",\n        count: 23,\n        context: \"viewing this product\",\n        trending: true,\n        timestamp: Date.now(),\n      },\n      {\n        id: \"visitor-2\",\n        type: \"visitor\",\n        count: 47,\n        context: \"shopping now\",\n        trending: false,\n        timestamp: Date.now(),\n      },\n    ];\n    notifications.push(...visitors);\n  }\n\n  // Generate review notifications\n  if (config.enableReviewNotifications) {\n    const reviews: SocialProofNotification[] = [\n      {\n        id: \"review-1\",\n        type: \"review\",\n        rating: 4.8,\n        reviewCount: 1234,\n        recentReview: {\n          text: \"Love this product! Great quality.\",\n          author: \"Emily K.\",\n          verified: true,\n        },\n        timestamp: Date.now(),\n      },\n      {\n        id: \"review-2\",\n        type: \"review\",\n        rating: 4.9,\n        reviewCount: 856,\n        recentReview: {\n          text: \"Exceeded my expectations!\",\n          author: \"David L.\",\n          verified: true,\n        },\n        timestamp: Date.now(),\n      },\n    ];\n    notifications.push(...reviews);\n  }\n\n  // Shuffle notifications for variety\n  return shuffleArray(notifications);\n}\n\n// Fisher-Yates shuffle algorithm\nfunction shuffleArray<T>(array: T[]): T[] {\n  const shuffled = [...array];\n  for (let i = shuffled.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];\n  }\n  return shuffled;\n}\n\n// Export default configuration for template library\nexport const SOCIAL_PROOF_TEMPLATE_CONFIG = {\n  templateId: \"social-proof\",\n  name: \"Social Proof Notifications\",\n  category: \"social-proof\" as const,\n  templateDescription:\n    \"Build trust with recent purchases, visitor count, and review highlights\",\n  isPopular: true,\n  conversionRate: 22.5, // 15-30% improvement over baseline\n\n  // Default design\n  backgroundColor: \"#FFFFFF\",\n  textColor: \"#1A1A1A\",\n  buttonColor: \"#10B981\",\n  buttonTextColor: \"#FFFFFF\",\n  position: \"bottom-left\" as const,\n  size: \"small\" as const,\n  showCloseButton: true,\n\n  // Default content\n  title: \"Social Proof\",\n  description: \"Build trust and credibility with social proof notifications\",\n  buttonText: \"Learn More\",\n\n  // Template-specific features\n  features: [\n    \"Recent purchase notifications\",\n    \"Live visitor count\",\n    \"Review highlights\",\n    \"Auto-dismiss (5 seconds)\",\n    \"Sequential rotation\",\n    \"Privacy-compliant\",\n  ],\n\n  // Best practices\n  bestPractices: {\n    position: \"bottom-left\",\n    displayDuration: 5,\n    rotationInterval: 8,\n    maxNotificationsPerSession: 5,\n  },\n};\n", "/**\n * Social Proof Popup Bundle\n */\n\nimport { SocialProofPopup } from \"../../../app/domains/storefront/notifications/social-proof/SocialProofPopup\";\n\n(function register() {\n  const g = window as unknown as { RevenueBoostComponents?: Record<string, unknown>; console?: Console };\n  g.RevenueBoostComponents = g.RevenueBoostComponents || {};\n  g.RevenueBoostComponents[\"SOCIAL_PROOF\"] = SocialProofPopup;\n\n  if (typeof g.console?.debug === \"function\") {\n    console.debug(\"[Revenue Boost] Social Proof popup registered\");\n  }\n})();\n\n"],
  "mappings": "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",
  "names": ["h", "Fragment", "Fragment"]
}
