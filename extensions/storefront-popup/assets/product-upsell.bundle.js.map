{
  "version": 3,
  "sources": ["global-preact:global-preact:react", "global-preact:global-preact:react-dom", "global-preact:global-preact:preact/jsx-runtime", "../../../app/domains/storefront/popups-new/PopupPortal.tsx", "../../../app/domains/storefront/popups-new/utils.ts", "../../../app/domains/storefront/popups-new/ProductUpsellPopup.tsx", "../../storefront-src/bundles/product-upsell.ts"],
  "sourcesContent": ["\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const { h, Component, Fragment, render, createPortal } = window.RevenueBoostPreact;\n                const { useState, useEffect, useCallback, useRef, useMemo } = window.RevenueBoostPreact.hooks;\n                export { h, Component, Fragment, render, createPortal, useState, useEffect, useCallback, useRef, useMemo };\n                export default { h, Component, Fragment, render, createPortal, useState, useEffect, useCallback, useRef, useMemo };\n              ", "\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                export const render = window.RevenueBoostPreact.render;\n                export const createPortal = window.RevenueBoostPreact.createPortal;\n                export default { render: window.RevenueBoostPreact.render, createPortal: window.RevenueBoostPreact.createPortal };\n              ", "\n                if (typeof window === \"undefined\" || !window.RevenueBoostPreact) {\n                  throw new Error(\"RevenueBoostPreact not found. Make sure main bundle is loaded first.\");\n                }\n                const options = window.RevenueBoostPreact.options || {};\n                const h = window.RevenueBoostPreact.h;\n\n                // JSX runtime factory function\n                let vnodeId = 0;\n                export function jsx(type, props, key, isStaticChildren, __source, __self) {\n                  if (!props) props = {};\n                  let normalizedProps = props;\n                  let ref;\n\n                  if ('ref' in props) {\n                    normalizedProps = {};\n                    for (let i in props) {\n                      if (i === 'ref') ref = props[i];\n                      else normalizedProps[i] = props[i];\n                    }\n                  }\n\n                  const vnode = {\n                    type,\n                    props: normalizedProps,\n                    key: key !== undefined ? key : null,\n                    ref: ref !== undefined ? ref : null,\n                    __k: null,\n                    __: null,\n                    __b: 0,\n                    __e: null,\n                    __c: null,\n                    constructor: undefined,\n                    __v: --vnodeId,\n                    __i: -1,\n                    __u: 0,\n                    __source,\n                    __self\n                  };\n\n                  if (typeof type === 'function' && (ref = type.defaultProps)) {\n                    for (let i in ref) {\n                      if (normalizedProps[i] === undefined) {\n                        normalizedProps[i] = ref[i];\n                      }\n                    }\n                  }\n\n                  if (options.vnode) options.vnode(vnode);\n                  return vnode;\n                }\n\n                export const jsxs = jsx;\n                export const jsxDEV = jsx;\n                export const createElement = h;\n                export const Fragment = window.RevenueBoostPreact.Fragment;\n              ", "/**\n * PopupPortal Component\n *\n * A thin wrapper that handles all popup \"chrome\" concerns:\n * - Backdrop rendering (color, opacity, blur)\n * - Keyboard events (ESC to close)\n * - Click-outside-to-close\n * - Open/close animations with choreography\n * - Portal rendering (to document.body)\n * - Focus management\n * - Scroll locking\n * - Accessibility (aria-modal, role=\"dialog\")\n *\n * Popup content remains fully autonomous - just renders inside the portal.\n */\n\nimport React, { useState, useEffect, useCallback, useRef, useMemo } from 'react';\nimport { createPortal } from 'react-dom';\n\nexport type AnimationType = 'fade' | 'slide' | 'zoom' | 'bounce' | 'none';\n\nexport interface BackdropConfig {\n  color?: string;      // Base color (hex, rgb, rgba)\n  opacity?: number;    // Applied opacity (0-1)\n  blur?: number;       // backdrop-filter blur in px\n}\n\nexport interface AnimationConfig {\n  type: AnimationType;\n  duration?: number;         // Override default duration\n  backdropDelay?: number;    // Custom delay for backdrop\n  contentDelay?: number;     // Custom delay for content\n}\n\nexport type PopupPosition = \"center\" | \"top\" | \"bottom\" | \"left\" | \"right\";\n\nexport interface PopupPortalProps {\n  isVisible: boolean;\n  onClose: () => void;\n  children: React.ReactNode;\n\n  // Backdrop configuration\n  backdrop?: BackdropConfig;\n\n  // Animation configuration\n  animation?: AnimationConfig;\n\n  // Layout\n  position?: PopupPosition;\n\n  // Behavior\n  closeOnEscape?: boolean;\n  closeOnBackdropClick?: boolean;\n  previewMode?: boolean;\n\n  // Accessibility\n  ariaLabel?: string;\n  ariaDescribedBy?: string;\n}\n\n/**\n * Animation choreography timing\n * Defines when backdrop and content should animate\n */\nconst ANIMATION_CHOREOGRAPHY = {\n  fade: {\n    backdrop: { delay: 0, duration: 200 },\n    content: { delay: 0, duration: 200 },\n  },\n  slide: {\n    backdrop: { delay: 0, duration: 150 },\n    content: { delay: 50, duration: 300 },\n  },\n  zoom: {\n    backdrop: { delay: 0, duration: 250 },\n    content: { delay: 0, duration: 300 },\n  },\n  bounce: {\n    backdrop: { delay: 0, duration: 200 },\n    content: { delay: 50, duration: 500 },\n  },\n  none: {\n    backdrop: { delay: 0, duration: 0 },\n    content: { delay: 0, duration: 0 },\n  },\n};\n\nexport const PopupPortal: React.FC<PopupPortalProps> = ({\n  isVisible,\n  onClose,\n  children,\n  backdrop = {},\n  animation = { type: 'fade' },\n  position = 'center',\n  closeOnEscape = true,\n  closeOnBackdropClick = true,\n  previewMode = false,\n  ariaLabel,\n  ariaDescribedBy,\n}) => {\n  const [isExiting, setIsExiting] = useState(false);\n  const [isMounted, setIsMounted] = useState(false);\n  const previousFocusRef = useRef<HTMLElement | null>(null);\n  const contentRef = useRef<HTMLDivElement>(null);\n  const shadowHostRef = useRef<HTMLDivElement | null>(null);\n  const shadowRootRef = useRef<ShadowRoot | null>(null);\n\n  // Get animation timing\n  const animationType = animation.type || 'fade';\n  const choreography = ANIMATION_CHOREOGRAPHY[animationType];\n  const backdropTiming = useMemo(() => ({\n    delay: animation.backdropDelay ?? choreography.backdrop.delay,\n    duration: animation.duration ?? choreography.backdrop.duration,\n  }), [animation.backdropDelay, animation.duration, choreography.backdrop.delay, choreography.backdrop.duration]);\n\n  const contentTiming = useMemo(() => ({\n    delay: animation.contentDelay ?? choreography.content.delay,\n    duration: animation.duration ?? choreography.content.duration,\n  }), [animation.contentDelay, animation.duration, choreography.content.delay, choreography.content.duration]);\n\n  // Calculate backdrop color with opacity\n  const getBackdropColor = useCallback(() => {\n    const opacity = backdrop.opacity ?? 0.6;\n    const color = backdrop.color || 'rgba(0, 0, 0, 1)';\n\n    // If color is already rgba, extract RGB and apply opacity\n    if (color.startsWith('rgba')) {\n      const rgbaMatch = color.match(/rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*[\\d.]+)?\\)/);\n      if (rgbaMatch) {\n        return `rgba(${rgbaMatch[1]}, ${rgbaMatch[2]}, ${rgbaMatch[3]}, ${opacity})`;\n      }\n    }\n\n    // If color is rgb, convert to rgba with opacity\n    if (color.startsWith('rgb')) {\n      const rgbMatch = color.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n      if (rgbMatch) {\n        return `rgba(${rgbMatch[1]}, ${rgbMatch[2]}, ${rgbMatch[3]}, ${opacity})`;\n      }\n    }\n\n    // If color is hex, convert to rgba\n    if (color.startsWith('#')) {\n      const hex = color.slice(1);\n      const r = parseInt(hex.slice(0, 2), 16);\n      const g = parseInt(hex.slice(2, 4), 16);\n      const b = parseInt(hex.slice(4, 6), 16);\n      return `rgba(${r}, ${g}, ${b}, ${opacity})`;\n    }\n\n    // Fallback\n    return `rgba(0, 0, 0, ${opacity})`;\n  }, [backdrop.color, backdrop.opacity]);\n\n  // Handle close with exit animation\n  const handleClose = useCallback(() => {\n    if (animationType !== 'none') {\n      setIsExiting(true);\n      // Wait for the longest animation to complete\n      const maxDuration = Math.max(\n        backdropTiming.delay + backdropTiming.duration,\n        contentTiming.delay + contentTiming.duration\n      );\n      setTimeout(() => {\n        onClose();\n        setIsExiting(false);\n      }, maxDuration);\n    } else {\n      onClose();\n    }\n  }, [animationType, backdropTiming, contentTiming, onClose]);\n\n  // Handle ESC key press\n  useEffect(() => {\n    if (!isVisible || !closeOnEscape) return;\n\n    const handleEscape = (event: KeyboardEvent) => {\n      if (event.key === 'Escape') {\n        handleClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscape);\n    return () => document.removeEventListener('keydown', handleEscape);\n  }, [isVisible, closeOnEscape, handleClose]);\n\n  // Handle backdrop click\n  const handleBackdropClick: React.MouseEventHandler<HTMLDivElement> = useCallback((e) => {\n    if (closeOnBackdropClick) {\n      handleClose();\n    }\n  }, [closeOnBackdropClick, handleClose]);\n\n  // Prevent content click from closing\n  const handleContentClick: React.MouseEventHandler<HTMLDivElement> = useCallback((e) => {\n    e.stopPropagation();\n  }, []);\n\n  // Focus management\n  useEffect(() => {\n    if (isVisible && !previewMode) {\n      // Save current focus\n      previousFocusRef.current = document.activeElement as HTMLElement;\n\n      // Focus the content wrapper\n      if (contentRef.current) {\n        contentRef.current.focus();\n      }\n    }\n\n    return () => {\n      // Restore focus on unmount\n      if (previousFocusRef.current && !previewMode) {\n        previousFocusRef.current.focus();\n      }\n    };\n  }, [isVisible, previewMode]);\n\n  // Scroll locking\n  useEffect(() => {\n    if (isVisible && !previewMode) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = '';\n    }\n\n    return () => {\n      document.body.style.overflow = '';\n    };\n  }, [isVisible, previewMode]);\n\n  // Create Shadow DOM container\n  useEffect(() => {\n    if (previewMode) return; // Don't use Shadow DOM in preview mode\n\n    // Create shadow host if it doesn't exist\n    let host = document.getElementById('revenue-boost-popup-shadow-host') as HTMLDivElement;\n\n    if (!host) {\n      host = document.createElement('div');\n      host.id = 'revenue-boost-popup-shadow-host';\n      // Shadow host MUST have display: block to have dimensions!\n      // position: fixed with inset: 0 makes it fill the viewport\n      host.style.cssText = 'display: block; position: fixed; inset: 0; z-index: 9999; pointer-events: auto;';\n      document.body.appendChild(host);\n    }\n\n    // Attach shadow root if not already attached\n    if (!host.shadowRoot) {\n      const shadowRoot = host.attachShadow({ mode: 'open' });\n      shadowRootRef.current = shadowRoot;\n\n      // Add base styles using adoptedStyleSheets (modern approach for Shadow DOM)\n      try {\n        const sheet = new CSSStyleSheet();\n        sheet.replaceSync(`\n          * {\n            box-sizing: border-box;\n          }\n        `);\n        shadowRoot.adoptedStyleSheets = [sheet];\n      } catch (e) {\n        console.warn('[PopupPortal] adoptedStyleSheets not supported, falling back to style tag');\n      }\n    } else {\n      shadowRootRef.current = host.shadowRoot;\n    }\n\n    shadowHostRef.current = host;\n\n    return () => {\n      // Cleanup: remove host when component unmounts\n      if (host && host.parentNode) {\n        host.parentNode.removeChild(host);\n      }\n    };\n  }, [previewMode]);\n\n  // Mount/unmount management\n  useEffect(() => {\n    if (isVisible) {\n      setIsMounted(true);\n    } else if (!isExiting) {\n      setIsMounted(false);\n    }\n  }, [isVisible, isExiting]);\n\n  // Don't render if not mounted\n  if (!isMounted && !isVisible) return null;\n\n  // Check for reduced motion preference\n  const prefersReducedMotion = typeof window !== 'undefined' &&\n    window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n\n  const effectiveAnimationType = prefersReducedMotion ? 'none' : animationType;\n\n  // Animation classes\n  const getAnimationClass = () => {\n    if (effectiveAnimationType === 'none') return '';\n\n    const direction = isExiting ? 'exit' : 'enter';\n    return `popup-portal-${effectiveAnimationType}-${direction}`;\n  };\n\n  const backdropAnimationClass = getAnimationClass();\n  const contentAnimationClass = getAnimationClass();\n\n  // Styles\n  // In Shadow DOM, position: fixed doesn't work relative to viewport\n  // It's relative to the shadow host. Since shadow host is position:fixed with inset:0,\n  // we use position:absolute inside to fill the shadow host (which fills the viewport)\n  const overlayStyles: React.CSSProperties = {\n    position: 'absolute',\n    inset: 0,\n    zIndex: 1,\n    pointerEvents: 'auto', // Enable pointer events in shadow DOM\n  };\n\n  const backdropStyles: React.CSSProperties = {\n    position: 'absolute',\n    inset: 0,\n    background: getBackdropColor(),\n    backdropFilter: backdrop.blur ? `blur(${backdrop.blur}px)` : undefined,\n    animationDelay: `${backdropTiming.delay}ms`,\n    animationDuration: `${backdropTiming.duration}ms`,\n  };\n\n  const contentWrapperStyles: React.CSSProperties = {\n    animationDelay: `${contentTiming.delay}ms`,\n    animationDuration: `${contentTiming.duration}ms`,\n    outline: 'none',\n  };\n\n  // Render content\n  const content = (\n    <div style={overlayStyles} role=\"presentation\">\n      {/* Base styles for Shadow DOM - ensures proper rendering */}\n      <style dangerouslySetInnerHTML={{ __html: `\n        * {\n          box-sizing: border-box;\n        }\n        ${getAnimationKeyframes(previewMode, position)}\n      ` }} />\n\n      {/* Backdrop */}\n      <div\n        className={backdropAnimationClass}\n        style={backdropStyles}\n        onClick={handleBackdropClick}\n        aria-hidden=\"true\"\n      />\n\n      {/* Content wrapper with animation */}\n      <div\n        ref={contentRef}\n        className={`popup-portal-dialog-wrapper ${contentAnimationClass}`}\n        style={contentWrapperStyles}\n        onClick={handleContentClick}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label={ariaLabel}\n        aria-describedby={ariaDescribedBy}\n        tabIndex={-1}\n      >\n        {children}\n      </div>\n    </div>\n  );\n\n  // Render with portal\n  if (previewMode) {\n    // In preview mode, render directly without Shadow DOM\n    return content;\n  }\n\n  // Render into Shadow DOM\n  if (shadowRootRef.current) {\n    return createPortal(content, shadowRootRef.current as unknown as Element);\n  }\n\n  // Fallback: render to body if Shadow DOM not ready\n  return null;\n};\n\n/**\n * Generate CSS keyframes for animations\n */\nfunction getAnimationKeyframes(previewMode: boolean, position: PopupPosition): string {\n  // Map position to flexbox alignment\n  const alignMap = {\n    center: 'center',\n    top: 'flex-start',\n    bottom: 'flex-end',\n    left: 'flex-start',\n    right: 'flex-end',\n  };\n\n  const justifyMap = {\n    center: 'center',\n    top: 'center',\n    bottom: 'center',\n    left: 'flex-start',\n    right: 'flex-end',\n  };\n\n  return `\n    /* Base positioning for dialog wrapper */\n    .popup-portal-dialog-wrapper {\n      position: absolute;\n      inset: 0;\n      z-index: 1;\n      padding: 1rem;\n      display: flex;\n      align-items: ${alignMap[position]};\n      justify-content: ${justifyMap[position]};\n    }\n\n    /* Fade animations */\n    @keyframes popup-portal-fade-enter {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n    @keyframes popup-portal-fade-exit {\n      from { opacity: 1; }\n      to { opacity: 0; }\n    }\n    .popup-portal-fade-enter {\n      animation: popup-portal-fade-enter forwards;\n      animation-timing-function: ease-out;\n    }\n    .popup-portal-fade-exit {\n      animation: popup-portal-fade-exit forwards;\n      animation-timing-function: ease-in;\n    }\n\n    /* Slide animations */\n    @keyframes popup-portal-slide-enter {\n      from {\n        opacity: 0;\n        transform: translateY(20px);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0);\n      }\n    }\n    @keyframes popup-portal-slide-exit {\n      from {\n        opacity: 1;\n        transform: translateY(0);\n      }\n      to {\n        opacity: 0;\n        transform: translateY(20px);\n      }\n    }\n    .popup-portal-slide-enter {\n      animation: popup-portal-slide-enter forwards;\n      animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);\n    }\n    .popup-portal-slide-exit {\n      animation: popup-portal-slide-exit forwards;\n      animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);\n    }\n\n    /* Zoom animations */\n    @keyframes popup-portal-zoom-enter {\n      from {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: scale(1);\n      }\n    }\n    @keyframes popup-portal-zoom-exit {\n      from {\n        opacity: 1;\n        transform: scale(1);\n      }\n      to {\n        opacity: 0;\n        transform: scale(0.95);\n      }\n    }\n    .popup-portal-zoom-enter {\n      animation: popup-portal-zoom-enter forwards;\n      animation-timing-function: cubic-bezier(0.16, 1, 0.3, 1);\n    }\n    .popup-portal-zoom-exit {\n      animation: popup-portal-zoom-exit forwards;\n      animation-timing-function: cubic-bezier(0.7, 0, 0.84, 0);\n    }\n\n    /* Bounce animations */\n    @keyframes popup-portal-bounce-enter {\n      0% {\n        opacity: 0;\n        transform: scale(0.3);\n      }\n      50% {\n        opacity: 1;\n        transform: scale(1.05);\n      }\n      70% {\n        transform: scale(0.9);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n    @keyframes popup-portal-bounce-exit {\n      from {\n        opacity: 1;\n        transform: scale(1);\n      }\n      to {\n        opacity: 0;\n        transform: scale(0.8);\n      }\n    }\n    .popup-portal-bounce-enter {\n      animation: popup-portal-bounce-enter forwards;\n      animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);\n    }\n    .popup-portal-bounce-exit {\n      animation: popup-portal-bounce-exit forwards;\n      animation-timing-function: ease-in;\n    }\n\n    /* Reduced motion */\n    @media (prefers-reduced-motion: reduce) {\n      .popup-portal-fade-enter,\n      .popup-portal-fade-exit,\n      .popup-portal-slide-enter,\n      .popup-portal-slide-exit,\n      .popup-portal-zoom-enter,\n      .popup-portal-zoom-exit,\n      .popup-portal-bounce-enter,\n      .popup-portal-bounce-exit {\n        animation: none !important;\n        opacity: 1 !important;\n        transform: none !important;\n      }\n    }\n  `;\n}\n\n", "/**\n * Utility Functions for Storefront Popup Components\n * \n * Shared helper functions used across popup components\n */\n\nimport type { PopupSize, PopupPosition, PopupAnimation } from './types';\n\n/**\n * Get size dimensions based on size prop\n * In preview mode, use smaller percentages to show relative size on screen\n */\nexport function getSizeDimensions(size: PopupSize, previewMode?: boolean): { width: string; maxWidth: string } {\n  if (previewMode) {\n    // In preview mode, use percentages to show relative screen coverage\n    switch (size) {\n      case 'small':\n        return { width: '50%', maxWidth: '400px' };\n      case 'medium':\n        return { width: '65%', maxWidth: '600px' };\n      case 'large':\n        return { width: '80%', maxWidth: '900px' };\n      default:\n        return { width: '65%', maxWidth: '600px' };\n    }\n  }\n\n  // Production mode - use full responsive widths\n  switch (size) {\n    case 'small':\n      return { width: '90%', maxWidth: '400px' };\n    case 'medium':\n      return { width: '90%', maxWidth: '600px' };\n    case 'large':\n      return { width: '90%', maxWidth: '900px' };\n    default:\n      return { width: '90%', maxWidth: '600px' };\n  }\n}\n\n/**\n * Get position styles based on position prop\n */\nexport function getPositionStyles(position: PopupPosition): React.CSSProperties {\n  const baseStyles: React.CSSProperties = {\n    position: 'fixed',\n    zIndex: 10000,\n  };\n\n  switch (position) {\n    case 'center':\n      return {\n        ...baseStyles,\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      };\n    case 'top':\n      return {\n        ...baseStyles,\n        top: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n      };\n    case 'bottom':\n      return {\n        ...baseStyles,\n        bottom: '20px',\n        left: '50%',\n        transform: 'translateX(-50%)',\n      };\n    case 'left':\n      return {\n        ...baseStyles,\n        top: '50%',\n        left: '20px',\n        transform: 'translateY(-50%)',\n      };\n    case 'right':\n      return {\n        ...baseStyles,\n        top: '50%',\n        right: '20px',\n        transform: 'translateY(-50%)',\n      };\n    default:\n      return {\n        ...baseStyles,\n        top: '50%',\n        left: '50%',\n        transform: 'translate(-50%, -50%)',\n      };\n  }\n}\n\n/**\n * Get animation class name based on animation type\n */\nexport function getAnimationClass(animation: PopupAnimation, isExiting: boolean = false): string {\n  if (animation === 'none') return '';\n  \n  const prefix = isExiting ? 'popup-exit' : 'popup-enter';\n  return `${prefix}-${animation}`;\n}\n\n/**\n * Get animation keyframes CSS\n */\nexport function getAnimationKeyframes(): string {\n  return `\n    @keyframes popup-enter-fade {\n      from { opacity: 0; }\n      to { opacity: 1; }\n    }\n    \n    @keyframes popup-exit-fade {\n      from { opacity: 1; }\n      to { opacity: 0; }\n    }\n    \n    @keyframes popup-enter-slide {\n      from { \n        opacity: 0;\n        transform: translate(-50%, -60%);\n      }\n      to { \n        opacity: 1;\n        transform: translate(-50%, -50%);\n      }\n    }\n    \n    @keyframes popup-exit-slide {\n      from { \n        opacity: 1;\n        transform: translate(-50%, -50%);\n      }\n      to { \n        opacity: 0;\n        transform: translate(-50%, -60%);\n      }\n    }\n    \n    @keyframes popup-enter-bounce {\n      0% { \n        opacity: 0;\n        transform: translate(-50%, -50%) scale(0.3);\n      }\n      50% { \n        transform: translate(-50%, -50%) scale(1.05);\n      }\n      70% { \n        transform: translate(-50%, -50%) scale(0.9);\n      }\n      100% { \n        opacity: 1;\n        transform: translate(-50%, -50%) scale(1);\n      }\n    }\n    \n    @keyframes popup-exit-bounce {\n      from { \n        opacity: 1;\n        transform: translate(-50%, -50%) scale(1);\n      }\n      to { \n        opacity: 0;\n        transform: translate(-50%, -50%) scale(0.3);\n      }\n    }\n    \n    .popup-enter-fade { animation: popup-enter-fade 0.3s ease-out; }\n    .popup-exit-fade { animation: popup-exit-fade 0.3s ease-in; }\n    .popup-enter-slide { animation: popup-enter-slide 0.3s ease-out; }\n    .popup-exit-slide { animation: popup-exit-slide 0.3s ease-in; }\n    .popup-enter-bounce { animation: popup-enter-bounce 0.5s ease-out; }\n    .popup-exit-bounce { animation: popup-exit-bounce 0.3s ease-in; }\n    \n    @media (prefers-reduced-motion: reduce) {\n      .popup-enter-fade,\n      .popup-enter-slide,\n      .popup-enter-bounce,\n      .popup-exit-fade,\n      .popup-exit-slide,\n      .popup-exit-bounce {\n        animation: none !important;\n      }\n    }\n  `;\n}\n\n/**\n * Validate email address\n */\nexport function validateEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Format currency\n *\n * Accepts either an ISO 4217 currency code (\"USD\", \"EUR\") or a common\n * currency symbol (\"$\", \"\u20AC\", \"\u00A3\"). Falls back gracefully if an invalid\n * value is provided so we never throw RangeError from Intl.NumberFormat.\n */\nexport function formatCurrency(amount: number | string, currency: string = 'USD'): string {\n  const numAmount = typeof amount === 'string' ? parseFloat(amount) : amount;\n\n  // Normalize currency input\n  const raw = (currency || '').trim();\n  const upper = raw.toUpperCase();\n\n  // Map common symbols to ISO codes\n  const symbolToCode: Record<string, string> = {\n    '$': 'USD',\n    '\u20AC': 'EUR',\n    '\u00A3': 'GBP',\n    '\u00A5': 'JPY',\n    'C$': 'CAD',\n    'A$': 'AUD',\n  };\n\n  let code: string = 'USD';\n\n  if (/^[A-Z]{3}$/.test(upper)) {\n    // Looks like a valid 3-letter code; use as-is\n    code = upper;\n  } else if (raw in symbolToCode) {\n    // Map known symbols to codes\n    code = symbolToCode[raw];\n  }\n\n  try {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: code,\n    }).format(numAmount);\n  } catch {\n    // Final fallback: simple prefix formatting that will never throw\n    const sign = numAmount < 0 ? '-' : '';\n    const absAmount = Math.abs(numAmount || 0);\n    const symbol = raw || '$';\n    return `${sign}${symbol}${absAmount.toFixed(2)}`;\n  }\n}\n\n/**\n * Copy text to clipboard\n */\nexport async function copyToClipboard(text: string): Promise<boolean> {\n  try {\n    if (navigator.clipboard && navigator.clipboard.writeText) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    } else {\n      // Fallback for older browsers\n      const textArea = document.createElement('textarea');\n      textArea.value = text;\n      textArea.style.position = 'fixed';\n      textArea.style.left = '-999999px';\n      document.body.appendChild(textArea);\n      textArea.select();\n      const success = document.execCommand('copy');\n      document.body.removeChild(textArea);\n      return success;\n    }\n  } catch (error) {\n    console.error('Failed to copy to clipboard:', error);\n    return false;\n  }\n}\n\n/**\n * Calculate time remaining from a date\n */\nexport function calculateTimeRemaining(endDate: Date | string): {\n  total: number;\n  days: number;\n  hours: number;\n  minutes: number;\n  seconds: number;\n} {\n  const end = typeof endDate === 'string' ? new Date(endDate) : endDate;\n  const now = new Date();\n  const total = end.getTime() - now.getTime();\n\n  if (total <= 0) {\n    return { total: 0, days: 0, hours: 0, minutes: 0, seconds: 0 };\n  }\n\n  return {\n    total,\n    days: Math.floor(total / (1000 * 60 * 60 * 24)),\n    hours: Math.floor((total / (1000 * 60 * 60)) % 24),\n    minutes: Math.floor((total / (1000 * 60)) % 60),\n    seconds: Math.floor((total / 1000) % 60),\n  };\n}\n\n/**\n * Format time remaining as string\n */\nexport function formatTimeRemaining(time: ReturnType<typeof calculateTimeRemaining>): string {\n  if (time.total <= 0) return '00:00:00';\n  \n  if (time.days > 0) {\n    return `${time.days}d ${time.hours}h ${time.minutes}m`;\n  }\n  \n  const hours = String(time.hours).padStart(2, '0');\n  const minutes = String(time.minutes).padStart(2, '0');\n  const seconds = String(time.seconds).padStart(2, '0');\n  \n  return `${hours}:${minutes}:${seconds}`;\n}\n\n/**\n * Check if device prefers reduced motion\n */\nexport function prefersReducedMotion(): boolean {\n  if (typeof window === 'undefined') return false;\n  return window.matchMedia('(prefers-reduced-motion: reduce)').matches;\n}\n\n/**\n * Debounce function\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null;\n  \n  return function executedFunction(...args: Parameters<T>) {\n    const later = () => {\n      timeout = null;\n      func(...args);\n    };\n    \n    if (timeout) clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n", "/**\n * ProductUpsellPopup Component - Enhanced Design\n *\n * A premium product upsell/cross-sell popup optimized for Shopify stores with:\n * - Modern, polished design with smooth animations\n * - Multiple product display (grid/carousel/card layouts)\n * - Enhanced product cards with hover effects\n * - Product images with zoom on hover\n * - Multi-select capability with visual feedback\n * - Add to cart functionality with loading states\n * - Product ratings and reviews\n * - Bundle discount display with savings calculator\n * - Responsive layouts\n * - Beautiful by default, fully customizable\n */\n\nimport React, { useState, useCallback, useEffect, useMemo } from 'react';\nimport { PopupPortal } from './PopupPortal';\nimport type { PopupDesignConfig, Product } from './types';\nimport type { ProductUpsellContent } from '~/domains/campaigns/types/campaign';\nimport { formatCurrency } from './utils';\n\n/**\n * ProductUpsellConfig - Extends both design config AND campaign content type\n * All content fields come from ProductUpsellContent\n * All design fields come from PopupDesignConfig\n */\nexport interface ProductUpsellConfig extends PopupDesignConfig, ProductUpsellContent {\n  // Storefront-specific fields only\n  products?: Product[];\n  animationDuration?: number;\n  imageAspectRatio?: 'square' | 'portrait' | 'landscape';\n  showAddIcon?: boolean;\n\n  // Note: headline, subheadline, layout, bundleDiscount, etc.\n  // all come from ProductUpsellContent\n}\n\nexport interface ProductUpsellPopupProps {\n  config: ProductUpsellConfig;\n  isVisible: boolean;\n  onClose: () => void;\n  products?: Product[];\n  onAddToCart?: (productIds: string[]) => Promise<void>;\n  onProductClick?: (product: Product) => void;\n}\n\nexport const ProductUpsellPopup: React.FC<ProductUpsellPopupProps> = ({\n                                                                        config,\n                                                                        isVisible,\n                                                                        onClose,\n                                                                        products: propProducts,\n                                                                        onAddToCart,\n                                                                        onProductClick,\n                                                                      }) => {\n  const [selectedProducts, setSelectedProducts] = useState<Set<string>>(new Set());\n  const [isLoading, setIsLoading] = useState(false);\n  const [showContent, setShowContent] = useState(false);\n  const [hoveredProduct, setHoveredProduct] = useState<string | null>(null);\n  const [currentSlide, setCurrentSlide] = useState(0);\n\n  const products = useMemo(() => propProducts || config.products || [], [propProducts, config.products]);\n  const displayProducts = useMemo(\n    () => (config.maxProducts ? products.slice(0, config.maxProducts) : products),\n    [config.maxProducts, products]\n  );\n\n  // Animate content in\n  useEffect(() => {\n    if (isVisible) {\n      const timer = setTimeout(() => setShowContent(true), 50);\n      return () => clearTimeout(timer);\n    } else {\n      setShowContent(false);\n    }\n  }, [isVisible]);\n\n  const handleProductSelect = useCallback((productId: string) => {\n    if (config.multiSelect) {\n      setSelectedProducts(prev => {\n        const newSet = new Set(prev);\n        if (newSet.has(productId)) {\n          newSet.delete(productId);\n        } else {\n          newSet.add(productId);\n        }\n        return newSet;\n      });\n    } else {\n      setSelectedProducts(new Set([productId]));\n    }\n  }, [config.multiSelect]);\n\n  const handleAddToCart = useCallback(async () => {\n    if (selectedProducts.size === 0) return;\n\n    setIsLoading(true);\n    try {\n      if (onAddToCart) {\n        await onAddToCart(Array.from(selectedProducts));\n        onClose();\n      } else {\n        onClose();\n      }\n    } catch (error) {\n      console.error('Add to cart error:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [selectedProducts, onAddToCart, onClose]);\n\n  const calculateTotal = useCallback(() => {\n    let total = 0;\n    selectedProducts.forEach(id => {\n      const product = products.find(p => p.id === id);\n      if (product) {\n        total += parseFloat(product.price);\n      }\n    });\n    return total;\n  }, [selectedProducts, products]);\n\n  const calculateSavings = useCallback(() => {\n    if (!config.bundleDiscount || selectedProducts.size < 2) return null;\n\n    const total = calculateTotal();\n    const savings = total * (config.bundleDiscount / 100);\n    return savings;\n  }, [selectedProducts, config.bundleDiscount, calculateTotal]);\n\n  const getSavingsPercent = (product: Product): number | null => {\n    if (product.savingsPercent != null) {\n      return product.savingsPercent;\n    }\n    if (!product.compareAtPrice) return null;\n    const price = parseFloat(product.price);\n    const compare = parseFloat(product.compareAtPrice);\n    if (!Number.isFinite(price) || !Number.isFinite(compare) || compare <= 0 || price >= compare) {\n      return null;\n    }\n    return Math.round((1 - price / compare) * 100);\n  };\n\n  const calculateDiscountedTotal = useCallback(() => {\n    const total = calculateTotal();\n    const savings = calculateSavings();\n    return savings ? total - savings : total;\n  }, [calculateTotal, calculateSavings]);\n\n  const handlePrevSlide = useCallback(() => {\n    if (displayProducts.length === 0) return;\n    setCurrentSlide((prev) => (prev - 1 + displayProducts.length) % displayProducts.length);\n  }, [displayProducts.length]);\n\n  const handleNextSlide = useCallback(() => {\n    if (displayProducts.length === 0) return;\n    setCurrentSlide((prev) => (prev + 1) % displayProducts.length);\n  }, [displayProducts.length]);\n\n  const handleGoToSlide = useCallback((index: number) => {\n    if (index < 0 || index >= displayProducts.length) return;\n    setCurrentSlide(index);\n  }, [displayProducts.length]);\n\n\n\n  // Enhanced default colors and settings\n  const accentColor = config.accentColor || config.buttonColor || '#6366F1';\n  const borderRadius = typeof config.borderRadius === 'string'\n    ? parseFloat(config.borderRadius) || 12\n    : (config.borderRadius ?? 12);\n  const animDuration = config.animationDuration ?? 300;\n  const imageHeight = config.imageAspectRatio === 'portrait' ? '280px'\n    : config.imageAspectRatio === 'landscape' ? '180px'\n      : '240px';\n  const textColor = config.textColor || '#111827';\n  const secondaryColor = config.inputBackgroundColor || '#F3F4F6';\n  const borderColor = config.inputBorderColor || 'rgba(148, 163, 184, 0.5)';\n\n  const renderProduct = (product: Product, index: number) => {\n    const isSelected = selectedProducts.has(product.id);\n    const isHovered = hoveredProduct === product.id;\n\n    const cardStyles: React.CSSProperties = {\n      border: `2px solid ${isSelected ? accentColor : config.inputBorderColor || '#E5E7EB'}`,\n      borderRadius: `${borderRadius}px`,\n      padding: '0',\n      cursor: 'pointer',\n      transition: `all ${animDuration}ms cubic-bezier(0.4, 0, 0.2, 1)`,\n      backgroundColor: config.backgroundColor || '#FFFFFF',\n      boxShadow: isSelected\n        ? `0 8px 24px ${accentColor}30, 0 0 0 3px ${accentColor}15`\n        : isHovered\n          ? '0 8px 24px rgba(0,0,0,0.12)'\n          : '0 2px 8px rgba(0,0,0,0.08)',\n      transform: isSelected ? 'scale(1.02)' : isHovered ? 'translateY(-4px)' : 'translateY(0)',\n      overflow: 'hidden',\n      opacity: showContent ? 1 : 0,\n      animation: showContent ? `fadeInUp 0.5s ease-out ${index * 0.1}s both` : 'none',\n      position: 'relative',\n    };\n\n    return (\n      <div\n        key={product.id}\n        style={cardStyles}\n        onClick={() => {\n          handleProductSelect(product.id);\n          if (onProductClick) {\n            onProductClick(product);\n          }\n        }}\n        onMouseEnter={() => setHoveredProduct(product.id)}\n        onMouseLeave={() => setHoveredProduct(null)}\n      >\n        {/* Selection checkmark badge */}\n        {isSelected && (\n          <div style={{\n            position: 'absolute',\n            top: '12px',\n            right: '12px',\n            width: '32px',\n            height: '32px',\n            borderRadius: '50%',\n            backgroundColor: accentColor,\n            color: '#FFFFFF',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            fontSize: '16px',\n            fontWeight: 700,\n            zIndex: 10,\n            boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\n            animation: 'bounceIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)'\n          }}>\n            \u2713\n          </div>\n        )}\n\n        {/* Product image */}\n        {config.showImages !== false && product.imageUrl && (\n          <div style={{\n            width: '100%',\n            height: imageHeight,\n            overflow: 'hidden',\n            position: 'relative',\n            backgroundColor: '#F9FAFB'\n          }}>\n            <img\n              src={product.imageUrl}\n              alt={product.title}\n              style={{\n                width: '100%',\n                height: '100%',\n                objectFit: 'cover',\n                transition: `transform ${animDuration}ms ease-out`,\n                transform: isHovered ? 'scale(1.08)' : 'scale(1)',\n              }}\n            />\n            {/* Overlay on hover */}\n            {isHovered && !isSelected && (\n              <div style={{\n                position: 'absolute',\n                inset: 0,\n                backgroundColor: 'rgba(0,0,0,0.05)',\n                transition: `opacity ${animDuration}ms`,\n              }} />\n            )}\n          </div>\n        )}\n\n        {/* Product details */}\n        <div style={{ padding: '16px' }}>\n          {/* Product title */}\n          <h3 style={{\n            fontSize: '16px',\n            fontWeight: 700,\n            margin: '0 0 8px 0',\n            lineHeight: 1.4,\n            color: config.textColor || '#111827',\n            fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n          }}>\n            {product.title}\n          </h3>\n\n          {/* Rating */}\n          {config.showRatings && product.rating && (\n            <div style={{\n              display: 'flex',\n              alignItems: 'center',\n              gap: '6px',\n              marginBottom: '10px'\n            }}>\n              <div style={{ color: '#F59E0B', fontSize: '14px', lineHeight: 1 }}>\n                {'\u2605'.repeat(Math.floor(product.rating))}{'\u2606'.repeat(5 - Math.floor(product.rating))}\n              </div>\n              {config.showReviewCount && product.reviewCount && (\n                <span style={{\n                  fontSize: '13px',\n                  color: config.textColor || '#6B7280',\n                  fontWeight: 500\n                }}>\n                  ({product.reviewCount})\n                </span>\n              )}\n            </div>\n          )}\n\n          {/* Price */}\n          {config.showPrices !== false && (\n            <div style={{ display: 'flex', alignItems: 'center', gap: '8px', marginTop: '12px' }}>\n              <span style={{\n                fontSize: '20px',\n                fontWeight: 800,\n                color: config.textColor || '#111827',\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n              }}>\n                {formatCurrency(product.price, config.currency)}\n              </span>\n              {config.showCompareAtPrice && product.compareAtPrice && (\n                <>\n                  <span style={{\n                    fontSize: '15px',\n                    textDecoration: 'line-through',\n                    color: config.textColor || '#9CA3AF',\n                    fontWeight: 500\n                  }}>\n                    {formatCurrency(product.compareAtPrice, config.currency)}\n                  </span>\n                  {getSavingsPercent(product) !== null && (\n                    <span style={{\n                      fontSize: '12px',\n                      fontWeight: 700,\n                      color: config.buttonTextColor || '#FFFFFF',\n                      backgroundColor: config.accentColor || config.buttonColor || '#EF4444',\n                      padding: '2px 8px',\n                      borderRadius: '4px'\n                    }}>\n                      SAVE {getSavingsPercent(product)}%\n                    </span>\n                  )}\n                </>\n              )}\n            </div>\n          )}\n\n          {/* Selection button */}\n          <div style={{\n            marginTop: '14px',\n            padding: '10px 16px',\n            backgroundColor: isSelected\n              ? accentColor\n              : config.inputBackgroundColor || '#F3F4F6',\n            color: isSelected ? '#FFFFFF' : config.textColor || '#374151',\n            borderRadius: `${borderRadius - 4}px`,\n            fontSize: '14px',\n            fontWeight: 700,\n            textAlign: 'center',\n            transition: `all ${animDuration}ms`,\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            gap: '6px'\n          }}>\n            {isSelected ? (\n              <>\n                <span>\u2713</span> Selected\n              </>\n            ) : (\n              <>\n                {config.showAddIcon !== false && <span>+</span>}\n                {config.multiSelect ? 'Add to Bundle' : 'Select'}\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  const getGridStyles = (): React.CSSProperties => {\n    return {\n      display: 'grid',\n      gap: '16px',\n      marginBottom: '24px',\n    };\n  };\n\n  const renderProductsSection = (): React.ReactNode => {\n    if (displayProducts.length === 0) {\n      return (\n        <div\n          style={{\n            padding: '40px 20px',\n            textAlign: 'center',\n            color: config.textColor || '#9CA3AF',\n          }}\n        >\n          <div style={{ fontSize: '48px', marginBottom: '16px' }}>\uD83D\uDCE6</div>\n          <p>No products available</p>\n        </div>\n      );\n    }\n\n    if (config.layout === 'carousel') {\n      const product = displayProducts[Math.min(currentSlide, displayProducts.length - 1)];\n      const isSelected = selectedProducts.has(product.id);\n      const savingsPercent = getSavingsPercent(product);\n\n      return (\n        <div\n          className=\"upsell-carousel-container\"\n          style={{\n            position: 'relative',\n          }}\n        >\n          {/* Previous button */}\n          <button\n            type=\"button\"\n            onClick={handlePrevSlide}\n            aria-label=\"Previous product\"\n            style={{\n              borderRadius: '9999px',\n              border: `1px solid ${config.inputBorderColor || '#E5E7EB'}`,\n              backgroundColor: config.inputBackgroundColor || '#F3F4F6',\n              width: 40,\n              height: 40,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              cursor: 'pointer',\n            }}\n          >\n            <span style={{ fontSize: 18 }}>\u2039</span>\n          </button>\n\n          {/* Main carousel product */}\n          <div\n            className=\"upsell-carousel-product\"\n            style={{\n              width: '100%',\n              maxWidth: 720,\n            }}\n          >\n            {config.showImages !== false && product.imageUrl && (\n              <div\n                style={{\n                  flex: 1,\n                  maxWidth: 280,\n                  aspectRatio: '1 / 1',\n                  borderRadius: 16,\n                  overflow: 'hidden',\n                  position: 'relative',\n                  backgroundColor: '#F9FAFB',\n                }}\n              >\n                <img\n                  src={product.imageUrl}\n                  alt={product.title}\n                  style={{ width: '100%', height: '100%', objectFit: 'cover' }}\n                />\n                {savingsPercent !== null && (\n                  <div\n                    style={{\n                      position: 'absolute',\n                      top: 12,\n                      left: 12,\n                      padding: '4px 10px',\n                      borderRadius: 9999,\n                      backgroundColor: config.accentColor || config.buttonColor || '#22C55E',\n                      color: '#FFFFFF',\n                      fontSize: 12,\n                      fontWeight: 700,\n                    }}\n                  >\n                    SAVE {savingsPercent}%\n                  </div>\n                )}\n              </div>\n            )}\n\n            <div\n              style={{\n                flex: 1,\n                display: 'flex',\n                flexDirection: 'column',\n                gap: 12,\n              }}\n            >\n              <h3\n                style={{\n                  fontSize: 20,\n                  fontWeight: 700,\n                  margin: 0,\n                  color: config.textColor || '#111827',\n                }}\n              >\n                {product.title}\n              </h3>\n\n              {config.showRatings && product.rating && (\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n                  <div style={{ color: '#F59E0B', fontSize: 14 }}>\n                    {'\u2605'.repeat(Math.floor(product.rating))}\n                    {'\u2606'.repeat(5 - Math.floor(product.rating))}\n                  </div>\n                  {config.showReviewCount && product.reviewCount && (\n                    <span\n                      style={{\n                        fontSize: 13,\n                        color: config.textColor || '#6B7280',\n                      }}\n                    >\n                      ({product.reviewCount})\n                    </span>\n                  )}\n                </div>\n              )}\n\n              {config.showPrices !== false && (\n                <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n                  <span\n                    style={{\n                      fontSize: 22,\n                      fontWeight: 800,\n                      color: config.textColor || '#111827',\n                    }}\n                  >\n                    {formatCurrency(product.price, config.currency)}\n                  </span>\n                  {config.showCompareAtPrice && product.compareAtPrice && (\n                    <span\n                      style={{\n                        fontSize: 14,\n                        textDecoration: 'line-through',\n                        color: config.textColor || '#9CA3AF',\n                      }}\n                    >\n                      {formatCurrency(product.compareAtPrice, config.currency)}\n                    </span>\n                  )}\n                </div>\n              )}\n\n              <button\n                type=\"button\"\n                onClick={() => handleProductSelect(product.id)}\n                style={{\n                  marginTop: 8,\n                  padding: '10px 18px',\n                  borderRadius: 9999,\n                  border: `2px solid ${accentColor}`,\n                  backgroundColor: isSelected ? accentColor : 'transparent',\n                  color: isSelected ? '#FFFFFF' : accentColor,\n                  fontSize: 14,\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  display: 'inline-flex',\n                  alignItems: 'center',\n                  gap: 8,\n                }}\n              >\n                {isSelected ? 'Selected' : 'Select Product'}\n              </button>\n            </div>\n          </div>\n\n          {/* Next button */}\n          <button\n            type=\"button\"\n            onClick={handleNextSlide}\n            aria-label=\"Next product\"\n            style={{\n              borderRadius: '9999px',\n              border: `1px solid ${config.inputBorderColor || '#E5E7EB'}`,\n              backgroundColor: config.inputBackgroundColor || '#F3F4F6',\n              width: 40,\n              height: 40,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              cursor: 'pointer',\n            }}\n          >\n            <span style={{ fontSize: 18 }}>\u203A</span>\n          </button>\n\n          {/* Dots */}\n          <div\n            style={{\n              position: 'absolute',\n              bottom: 8,\n              left: '50%',\n              transform: 'translateX(-50%)',\n              display: 'flex',\n              gap: 6,\n            }}\n          >\n            {displayProducts.map((p, index) => (\n              <button\n                // eslint-disable-next-line react/no-array-index-key\n                key={index}\n                type=\"button\"\n                onClick={() => handleGoToSlide(index)}\n                style={{\n                  width: index === currentSlide ? 18 : 8,\n                  height: 8,\n                  borderRadius: 9999,\n                  border: 'none',\n                  padding: 0,\n                  cursor: 'pointer',\n                  backgroundColor:\n                    index === currentSlide\n                      ? accentColor\n                      : config.inputBorderColor || '#E5E7EB',\n                }}\n              />\n            ))}\n          </div>\n        </div>\n      );\n    }\n\n    if (config.layout === 'card') {\n      return (\n        <div\n          className=\"upsell-cards-container\"\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            gap: 16,\n            marginBottom: 24,\n          }}\n        >\n          {displayProducts.map((product) => {\n            const isSelected = selectedProducts.has(product.id);\n            const savingsPercent = getSavingsPercent(product);\n\n            return (\n              <div\n                key={product.id}\n                className=\"upsell-card\"\n                style={{\n                  display: 'flex',\n                  gap: 16,\n                  alignItems: 'center',\n                  border: `2px solid ${\n                    isSelected ? accentColor : config.inputBorderColor || '#E5E7EB'\n                  }`,\n                  borderRadius: borderRadius,\n                  padding: '12px 16px',\n                  backgroundColor: config.backgroundColor || '#FFFFFF',\n                }}\n              >\n                {config.showImages !== false && product.imageUrl && (\n                  <div\n                    className=\"upsell-card-image-wrapper\"\n                    style={{\n                      width: 96,\n                      height: 96,\n                      borderRadius: 12,\n                      overflow: 'hidden',\n                      position: 'relative',\n                      backgroundColor: '#F9FAFB',\n                      flexShrink: 0,\n                    }}\n                  >\n                    <img\n                      src={product.imageUrl}\n                      alt={product.title}\n                      style={{ width: '100%', height: '100%', objectFit: 'cover' }}\n                    />\n                    {savingsPercent !== null && (\n                      <div\n                        style={{\n                          position: 'absolute',\n                          top: 8,\n                          left: 8,\n                          padding: '2px 8px',\n                          borderRadius: 9999,\n                          backgroundColor:\n                            config.accentColor || config.buttonColor || '#22C55E',\n                          color: '#FFFFFF',\n                          fontSize: 11,\n                          fontWeight: 700,\n                        }}\n                      >\n                        SAVE {savingsPercent}%\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                <div style={{ flex: 1, minWidth: 0 }}>\n                  <h3\n                    style={{\n                      fontSize: 16,\n                      fontWeight: 600,\n                      margin: 0,\n                      marginBottom: 4,\n                      color: config.textColor || '#111827',\n                    }}\n                  >\n                    {product.title}\n                  </h3>\n\n                  {config.showRatings && product.rating && (\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 6 }}>\n                      <div style={{ color: '#F59E0B', fontSize: 14 }}>\n                        {'\u2605'.repeat(Math.floor(product.rating))}\n                        {'\u2606'.repeat(5 - Math.floor(product.rating))}\n                      </div>\n                      {config.showReviewCount && product.reviewCount && (\n                        <span\n                          style={{\n                            fontSize: 13,\n                            color: config.textColor || '#6B7280',\n                          }}\n                        >\n                          ({product.reviewCount})\n                        </span>\n                      )}\n                    </div>\n                  )}\n\n                  {config.showPrices !== false && (\n                    <div style={{ display: 'flex', alignItems: 'center', gap: 8 }}>\n                      <span\n                        style={{\n                          fontSize: 18,\n                          fontWeight: 700,\n                          color: config.textColor || '#111827',\n                        }}\n                      >\n                        {formatCurrency(product.price, config.currency)}\n                      </span>\n                      {config.showCompareAtPrice && product.compareAtPrice && (\n                        <span\n                          style={{\n                            fontSize: 14,\n                            textDecoration: 'line-through',\n                            color: config.textColor || '#9CA3AF',\n                          }}\n                        >\n                          {formatCurrency(product.compareAtPrice, config.currency)}\n                        </span>\n                      )}\n                    </div>\n                  )}\n                </div>\n\n                <button\n                  type=\"button\"\n                  className=\"upsell-card-action-btn\"\n                  onClick={() => handleProductSelect(product.id)}\n                  style={{\n                    padding: '10px 16px',\n                    borderRadius: 9999,\n                    border: `2px solid ${accentColor}`,\n                    backgroundColor: isSelected ? accentColor : 'transparent',\n                    color: isSelected ? '#FFFFFF' : accentColor,\n                    fontSize: 14,\n                    fontWeight: 600,\n                    cursor: 'pointer',\n                    display: 'inline-flex',\n                    alignItems: 'center',\n                    gap: 8,\n                  }}\n                >\n                  {isSelected ? 'Added' : 'Add'}\n                </button>\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n\n    // Default grid layout\n    return (\n      <div\n        className=\"upsell-products-grid\"\n        style={{\n          ...getGridStyles(),\n          // Use CSS variable so media queries can adjust columns like the mockup\n          // Desktop uses configured columns; mobile overrides via @media\n          '--upsell-columns': Math.min(config.columns || 2, displayProducts.length || 1),\n        } as React.CSSProperties}\n      >\n        {displayProducts.map((product, index) => renderProduct(product, index))}\n      </div>\n    );\n  };\n\n\n\n  const buttonStyles: React.CSSProperties = {\n    flex: 1,\n    padding: '16px 24px',\n    fontSize: '16px',\n    fontWeight: 700,\n    border: 'none',\n    borderRadius: `${borderRadius}px`,\n    backgroundColor: config.buttonColor || '#6366F1',\n    color: config.buttonTextColor || '#FFFFFF',\n    cursor: selectedProducts.size === 0 || isLoading ? 'not-allowed' : 'pointer',\n    opacity: selectedProducts.size === 0 || isLoading ? 0.5 : 1,\n    transition: `all ${animDuration}ms cubic-bezier(0.4, 0, 0.2, 1)`,\n    boxShadow: selectedProducts.size > 0 && !isLoading ? '0 4px 12px rgba(99, 102, 241, 0.3)' : 'none',\n    fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    gap: '10px'\n  };\n\n  const savings = calculateSavings();\n  const total = calculateTotal();\n  const discountedTotal = calculateDiscountedTotal();\n\n  const popupConfig = {\n    ...config,\n    padding: 0,\n    maxWidth: config.maxWidth || '56rem',\n  };\n\n  // Auto-close timer (migrated from BasePopup)\n  useEffect(() => {\n    if (!isVisible || !popupConfig.autoCloseDelay || popupConfig.autoCloseDelay <= 0) return;\n\n    const timer = setTimeout(onClose, popupConfig.autoCloseDelay * 1000);\n    return () => clearTimeout(timer);\n  }, [isVisible, popupConfig.autoCloseDelay, onClose]);\n\n\n  if (!isVisible) return null;\n\n  return (\n    <PopupPortal\n      isVisible={isVisible}\n      onClose={onClose}\n      backdrop={{\n        color: popupConfig.overlayColor || 'rgba(0, 0, 0, 1)',\n        opacity: popupConfig.overlayOpacity ?? 0.6,\n        blur: 4,\n      }}\n      animation={{\n        type: popupConfig.animation || 'fade',\n      }}\n      position={popupConfig.position || 'center'}\n      closeOnEscape={popupConfig.closeOnEscape !== false}\n      closeOnBackdropClick={popupConfig.closeOnOverlayClick !== false}\n      previewMode={popupConfig.previewMode}\n      ariaLabel={popupConfig.ariaLabel || popupConfig.headline}\n      ariaDescribedBy={popupConfig.ariaDescribedBy}\n    >\n      <div\n        className=\"upsell-container\"\n        style={{\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 0,\n          opacity: showContent ? 1 : 0,\n          transform: showContent ? 'translateY(0)' : 'translateY(10px)',\n          transition: `all ${animDuration}ms cubic-bezier(0.4, 0, 0.2, 1)`,\n          backgroundColor: config.backgroundColor || '#FFFFFF',\n          borderRadius: `${borderRadius}px`,\n        }}\n      >\n        {/* Header */}\n        <div\n          style={{\n            padding: '48px 32px 32px',\n            textAlign: 'center',\n            borderBottom: `1px solid ${borderColor}`,\n          }}\n        >\n          <h2\n            style={{\n              fontSize: '30px',\n              fontWeight: 800,\n              margin: '0 0 8px 0',\n              lineHeight: 1.2,\n              color: textColor,\n              fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n              letterSpacing: '-0.02em',\n            }}\n          >\n            {config.headline}\n          </h2>\n          {config.subheadline && (\n            <p\n              style={{\n                fontSize: '16px',\n                margin: 0,\n                color: textColor,\n                opacity: 0.7,\n                lineHeight: 1.5,\n                fontFamily: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, sans-serif',\n              }}\n            >\n              {config.subheadline}\n            </p>\n          )}\n        </div>\n\n        {/* Bundle discount banner */}\n        {config.bundleDiscount && selectedProducts.size >= 2 && (\n          <div style={{\n            padding: '20px',\n            background: `linear-gradient(135deg, ${accentColor}20 0%, ${accentColor}10 100%)`,\n            borderRadius: `${borderRadius}px`,\n            border: `2px solid ${accentColor}30`,\n            textAlign: 'center',\n            animation: 'slideIn 0.4s ease-out'\n          }}>\n            <div style={{\n              fontSize: '14px',\n              fontWeight: 700,\n              color: config.textColor || '#374151',\n              marginBottom: '8px',\n              textTransform: 'uppercase',\n              letterSpacing: '0.05em'\n            }}>\n              \uD83C\uDF89 Bundle Deal Active\n            </div>\n            <div style={{\n              fontSize: '18px',\n              fontWeight: 800,\n              color: accentColor,\n              marginBottom: '4px'\n            }}>\n              {config.bundleDiscountText || `Save ${config.bundleDiscount}% Together!`}\n            </div>\n            {savings && (\n              <div style={{\n                fontSize: '24px',\n                fontWeight: 800,\n                color: config.successColor || accentColor || '#10B981',\n                marginTop: '8px'\n              }}>\n                -{formatCurrency(savings, config.currency)} off\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Products grid / layout */}\n        <div className=\"upsell-content\">\n          {renderProductsSection()}\n        </div>\n\n        {/* Footer: selection summary + actions */}\n        <div className=\"upsell-footer\">\n          {selectedProducts.size > 0 && (\n            <div\n              style={{\n                marginBottom: '16px',\n              }}\n            >\n              <div\n                style={{\n                  display: 'flex',\n                  justifyContent: 'space-between',\n                  alignItems: 'center',\n                  marginBottom: savings ? '12px' : '0',\n                }}\n              >\n                <div>\n                  <div\n                    style={{\n                      fontSize: '14px',\n                      fontWeight: 600,\n                      color: textColor,\n                      opacity: 0.7,\n                      marginBottom: '4px',\n                    }}\n                  >\n                    {selectedProducts.size} item{selectedProducts.size !== 1 ? 's' : ''} selected\n                  </div>\n                  {savings && (\n                    <div\n                      style={{\n                        fontSize: '12px',\n                        color: config.successColor || accentColor || '#10B981',\n                        fontWeight: 600,\n                      }}\n                    >\n                      You save {formatCurrency(savings, config.currency)}\n                    </div>\n                  )}\n                </div>\n                <div style={{ textAlign: 'right' }}>\n                  {savings && (\n                    <div\n                      style={{\n                        fontSize: '14px',\n                        textDecoration: 'line-through',\n                        color: config.textColor || '#9CA3AF',\n                        fontWeight: 500,\n                      }}\n                    >\n                      {formatCurrency(total, config.currency)}\n                    </div>\n                  )}\n                  <div\n                    style={{\n                      fontSize: '24px',\n                      fontWeight: 800,\n                      color: config.textColor || '#111827',\n                    }}\n                  >\n                    {formatCurrency(discountedTotal, config.currency)}\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          <div className=\"upsell-actions\">\n            <button\n              onClick={handleAddToCart}\n              disabled={selectedProducts.size === 0 || isLoading}\n              style={buttonStyles}\n              onMouseEnter={(e) => {\n                if (selectedProducts.size > 0 && !isLoading) {\n                  e.currentTarget.style.transform = 'translateY(-2px)';\n                  e.currentTarget.style.boxShadow = '0 8px 20px rgba(99, 102, 241, 0.4)';\n                }\n              }}\n              onMouseLeave={(e) => {\n                e.currentTarget.style.transform = 'translateY(0)';\n                e.currentTarget.style.boxShadow =\n                  selectedProducts.size > 0 ? '0 4px 12px rgba(99, 102, 241, 0.3)' : 'none';\n              }}\n            >\n              {isLoading ? (\n                <>\n                  <span\n                    style={{\n                      width: '16px',\n                      height: '16px',\n                      border: '2px solid rgba(255,255,255,0.3)',\n                      borderTopColor: '#FFF',\n                      borderRadius: '50%',\n                      animation: 'spin 0.8s linear infinite',\n                    }}\n                  />\n                  Adding to Cart...\n                </>\n              ) : (\n                <>\n                  <span style={{ fontSize: '18px' }}>\uD83D\uDED2</span>\n                  {(() => {\n                    const count = selectedProducts.size;\n                    const baseLabel = config.buttonText || config.ctaText;\n\n                    if (baseLabel) {\n                      return baseLabel.includes('{count}')\n                        ? baseLabel.replace('{count}', String(count || 0))\n                        : baseLabel;\n                    }\n\n                    if (count > 0) {\n                      return `Add ${count} to Cart`;\n                    }\n\n                    return 'Select Products';\n                  })()}\n                </>\n              )}\n            </button>\n\n            <button\n              onClick={onClose}\n              style={{\n                ...buttonStyles,\n                backgroundColor: 'transparent',\n                color: config.textColor || '#6B7280',\n                border: `2px solid ${config.inputBorderColor || '#E5E7EB'}`,\n                boxShadow: 'none',\n                opacity: 0.9,\n                cursor: 'pointer',\n              }}\n              onMouseEnter={(e) => (e.currentTarget.style.opacity = '1')}\n              onMouseLeave={(e) => (e.currentTarget.style.opacity = '0.9')}\n            >\n              {config.secondaryCtaLabel || config.dismissLabel || 'No thanks'}\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Keyframe animations & responsive layout helpers */}\n      <style>{`\n        /* Responsive layout helpers for ProductUpsellPopup (mirrors docs/mockup layout) */\n        .upsell-container {\n          width: 100%;\n          max-width: 56rem;\n          margin: 0 auto;\n          display: flex;\n          flex-direction: column;\n          max-height: 90vh;\n        }\n\n        .upsell-content {\n          flex: 1;\n          overflow-y: auto;\n          padding: 24px 32px;\n        }\n\n        .upsell-footer {\n          border-top: 2px solid ${borderColor};\n          padding: 24px 32px;\n          background: ${secondaryColor};\n        }\n\n        .upsell-actions {\n          display: flex;\n          gap: 12px;\n          margin-top: 16px;\n        }\n\n        .upsell-products-grid {\n          display: grid;\n          grid-template-columns: repeat(var(--upsell-columns, 2), minmax(0, 1fr));\n          gap: 16px;\n          margin-bottom: 24px;\n        }\n\n        .upsell-carousel-container {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          min-height: 360px;\n          padding: 24px 40px;\n          gap: 32px;\n        }\n\n        .upsell-carousel-product {\n          display: flex;\n          gap: 24px;\n          align-items: center;\n          width: 100%;\n          max-width: 720px;\n        }\n\n        .upsell-card {\n          display: flex;\n          gap: 16px;\n          align-items: center;\n        }\n\n        .upsell-card-image-wrapper {\n          position: relative;\n          border-radius: 12px;\n          overflow: hidden;\n          background-color: #F9FAFB;\n          flex-shrink: 0;\n        }\n\n        .upsell-card-action-btn {\n          display: inline-flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        @media (max-width: 768px) {\n          .upsell-products-grid {\n            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));\n            gap: 12px;\n          }\n\n          .upsell-carousel-container {\n            padding: 16px 24px;\n          }\n\n          .upsell-carousel-product {\n            flex-direction: column;\n            text-align: center;\n          }\n\n          .upsell-card {\n            flex-direction: column;\n            align-items: stretch;\n          }\n\n          .upsell-card-image-wrapper {\n            width: 100%;\n            height: 200px;\n          }\n\n          .upsell-card-action-btn {\n            align-self: stretch;\n            margin-left: 0;\n          }\n        }\n\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes bounceIn {\n          0% { transform: scale(0); opacity: 0; }\n          50% { transform: scale(1.2); }\n          100% { transform: scale(1); opacity: 1; }\n        }\n        @keyframes fadeInUp {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes fadeIn {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slideIn {\n          from { opacity: 0; transform: translateY(-10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      `}</style>\n    </PopupPortal>\n  );\n};\n", "/**\n * Product Upsell Popup Bundle\n */\n\nimport { ProductUpsellPopup } from \"../../../app/domains/storefront/popups-new/ProductUpsellPopup\";\n\n(function register() {\n  const g = window as unknown as { RevenueBoostComponents?: Record<string, unknown>; console?: Console };\n  g.RevenueBoostComponents = g.RevenueBoostComponents || {};\n  g.RevenueBoostComponents[\"PRODUCT_UPSELL\"] = ProductUpsellPopup;\n\n  if (typeof g.console?.debug === \"function\") {\n    console.debug(\"[Revenue Boost] Product Upsell popup registered\");\n  }\n})();\n\n"],
  "mappings": "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",
  "names": ["render", "createPortal", "h", "Fragment", "createPortal", "total", "savings", "Fragment"]
}
