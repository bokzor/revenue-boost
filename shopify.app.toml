client_id = "6d807bf0201e5a3acbec919a27ccfe62"
name = "revenue-boost"
application_url = "https://localhost:3000"
embedded = true

[build]
automatically_update_urls_on_dev = true
include_config_on_deploy = true

[webhooks]
api_version = "2026-01"

[[webhooks.subscriptions]]
topics = [ "app/uninstalled" ]
uri = "/webhooks/app/uninstalled"

[[webhooks.subscriptions]]
topics = [ "app/scopes_update" ]
uri = "/webhooks/app/scopes_update"

  # Declarative app-specific webhook: orders/create â†’ handled by app/routes/webhooks.orders.create.tsx
  [[webhooks.subscriptions]]
  topics = [ "orders/create" ]
  uri = "/webhooks/orders/create"

  # GDPR/Privacy webhooks (required for Shopify app compliance)
  # Note: privacy webhooks must use `compliance_topics` instead of `topics`
  [[webhooks.subscriptions]]
  compliance_topics = [ "customers/data_request" ]
  uri = "/webhooks/customers/data_request"

  [[webhooks.subscriptions]]
  compliance_topics = [ "customers/redact" ]
  uri = "/webhooks/customers/redact"

  [[webhooks.subscriptions]]
  compliance_topics = [ "shop/redact" ]
  uri = "/webhooks/shop/redact"

[access_scopes]
# Required scopes - requested at install time (core functionality)
# read_orders is required for orders/create webhook (revenue attribution)
# write_marketing_events, read_marketing_events: Marketing attribution tracking in Shopify's Marketing section
scopes = "read_discounts,write_discounts,write_products,read_themes,read_orders,write_marketing_events,read_marketing_events"
# Optional scopes - requested just-in-time when specific features are enabled
# - read_customers, write_customers: Customer segment targeting
# - write_files: Custom image uploads for popups
optional_scopes = ["read_customers", "write_customers", "write_files"]

[auth]
redirect_urls = [ "https://localhost:3000/api/auth" ]

[app_proxy]
url = "https://localhost:3000"
subpath = "revenue-boost"
prefix = "apps"
